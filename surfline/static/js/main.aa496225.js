!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=6)}([function(e,t,r){"use strict";e.exports=r(14)},function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,l=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)a.call(r,c)&&(l[c]=r[c]);if(i){s=i(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(l[s[f]]=r[s[f]])}}return l}},function(e,t,r){"use strict";function n(){}function i(e){try{return e.then}catch(e){return y=e,m}}function a(e,t){try{return e(t)}catch(e){return y=e,m}}function o(e,t,r){try{e(t,r)}catch(e){return y=e,m}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==n&&v(e,this)}function l(e,t,r){return new e.constructor(function(i,a){var o=new s(n);o.then(i,a),u(e,new p(t,r,o))})}function u(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);c(e,t)}function c(e,t){g(function(){var r=1===e._83?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._83?f(t.promise,e._18):d(t.promise,e._18));var n=a(r,e._18);n===m?d(t.promise,y):f(t.promise,n)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var r=i(t);if(r===m)return d(e,y);if(r===e.then&&t instanceof s)return e._83=3,e._18=t,void h(e);if("function"===typeof r)return void v(r.bind(t),e)}e._83=1,e._18=t,h(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),h(e)}function h(e){if(1===e._75&&(u(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)u(e,e._38[t]);e._38=null}}function p(e,t,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=r}function v(e,t){var r=!1,n=o(e,function(e){r||(r=!0,f(t,e))},function(e){r||(r=!0,d(t,e))});r||n!==m||(r=!0,d(t,y))}var g=r(9),y=null,m={};e.exports=s,s._47=null,s._71=null,s._44=n,s.prototype.then=function(e,t){if(this.constructor!==s)return l(this,e,t);var r=new s(n);return u(this,new p(e,t,r)),r}},function(e,t,r){"use strict";function n(e,t,r,n,a,o,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,a,o,s,l],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=n},function(e,t,r){"use strict";var n={};e.exports=n},function(e,t,r){"use strict";function n(e){return function(){return e}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,r){r(7),e.exports=r(13)},function(e,t,r){"use strict";"undefined"===typeof Promise&&(r(8).enable(),window.Promise=r(11)),r(12),Object.assign=r(1)},function(e,t,r){"use strict";function n(){u=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||o(f[t].error,e.whitelist||l))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,a(f[t].displayId,f[t].error)))}function r(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},u&&n(),u=!0;var i=0,c=0,f={};s._47=function(e){2===e._83&&f[e._56]&&(f[e._56].logged?r(e._56):clearTimeout(f[e._56].timeout),delete f[e._56])},s._71=function(e,r){0===e._75&&(e._56=i++,f[e._56]={displayId:null,error:r,timeout:setTimeout(t.bind(null,e._56),o(r,l)?100:2e3),logged:!1})}}function a(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function o(e,t){return t.some(function(t){return e instanceof t})}var s=r(2),l=[ReferenceError,TypeError,RangeError],u=!1;t.disable=n,t.enable=i},function(e,t,r){"use strict";(function(t){function r(e){o.length||(a(),s=!0),o[o.length]=e}function n(){for(;l<o.length;){var e=l;if(l+=1,o[e].call(),l>u){for(var t=0,r=o.length-l;t<r;t++)o[t]=o[t+l];o.length-=l,l=0}}o.length=0,l=0,s=!1}function i(e){return function(){function t(){clearTimeout(r),clearInterval(n),e()}var r=setTimeout(t,0),n=setInterval(t,50)}}e.exports=r;var a,o=[],s=!1,l=0,u=1024,c="undefined"!==typeof t?t:self,f=c.MutationObserver||c.WebKitMutationObserver;a="function"===typeof f?function(e){var t=1,r=new f(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}(n):i(n),r.requestFlush=a,r.makeRequestCallFromTimer=i}).call(t,r(10))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";function n(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=r(2);e.exports=i;var a=n(!0),o=n(!1),s=n(null),l=n(void 0),u=n(0),c=n("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return l;if(!0===e)return a;if(!1===e)return o;if(0===e)return u;if(""===e)return c;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,r){r(e)})}return n(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,r){function n(o,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?n(o,s._18):(2===s._83&&r(s._18),void s.then(function(e){n(o,e)},r))}var l=s.then;if("function"===typeof l){return void new i(l.bind(s)).then(function(e){n(o,e)},r)}}t[o]=s,0===--a&&e(t)}if(0===t.length)return e([]);for(var a=t.length,o=0;o<t.length;o++)n(o,t[o])})},i.reject=function(e){return new i(function(t,r){r(e)})},i.race=function(e){return new i(function(t,r){e.forEach(function(e){i.resolve(e).then(t,r)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!==typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader,r=o(t);return t.readAsArrayBuffer(e),r}function l(e){var t=new FileReader,r=o(t);return t.readAsText(e),r}function u(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y.arrayBuffer&&y.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!E(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var r=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var y={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(y.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},E=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];this.map[e]=i?i+","+n:n},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,n){this.map[t(e)]=r(n)},i.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},y.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];g.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=h,e.Response=g,e.fetch=function(e,t){return new Promise(function(r,n){var i=new h(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:v(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new g(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&y.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),s=r.n(o),l=r(15),u=r.n(l),c=r(23),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=function(e){function t(e){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={spots:[{name:"Pleasure Point",stream_url:"https://cams.cdn-surfline.com/wsc-west/wc-pleasureptcam.stream/chunklist.m3u8",spotId:"5842041f4e65fad6a7708807"},{name:"38th Ave. Overview",stream_url:"https://cams.cdn-surfline.com/wsc-west/wc-thirtyeightovcam.stream/chunklist.m3u8",spotId:"5a74f236588618001a6511f8"},{name:"Jack's",stream_url:"https://cams.cdn-surfline.com/wsc-west/wc-jackscam.stream/chunklist.m3u8",spotId:"5842041f4e65fad6a770880b"}]},r}return a(t,e),f(t,[{key:"render",value:function(){var e=this.state.spots.map(function(e){return s.a.createElement(c.a,{key:e.name,name:e.name,url:e.stream_url,spotId:e.spotId})});return s.a.createElement("div",null,e)}}]),t}(s.a.Component);u.a.render(s.a.createElement(d,null),document.getElementById("root"))},function(e,t,r){"use strict";function n(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);m(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}function i(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||D}function a(){}function o(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||D}function s(e,t,r){var n=void 0,i={},a=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,n)&&!M.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===i[n]&&(i[n]=s[n]);return{$$typeof:k,type:e,key:a,ref:o,props:i,_owner:I.current}}function l(e){return"object"===typeof e&&null!==e&&e.$$typeof===k}function u(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function c(e,t,r,n){if(U.length){var i=U.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function f(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>U.length&&U.push(e)}function d(e,t,r,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case k:case w:o=!0}}if(o)return r(i,e,""===t?"."+h(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){a=e[s];var l=t+h(a,s);o+=d(a,l,r,i)}else if(null===e||"undefined"===typeof e?l=null:(l=x&&e[x]||e["@@iterator"],l="function"===typeof l?l:null),"function"===typeof l)for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=t+h(a,s++),o+=d(a,l,r,i);else"object"===a&&(r=""+e,n("31","[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return o}function h(e,t){return"object"===typeof e&&null!==e&&null!=e.key?u(e.key):t.toString(36)}function p(e,t){e.func.call(e.context,t,e.count++)}function v(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,n,r,E.thatReturnsArgument):null!=e&&(l(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(F,"$&/")+"/")+r,e={$$typeof:k,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),n.push(e))}function g(e,t,r,n,i){var a="";null!=r&&(a=(""+r).replace(F,"$&/")+"/"),t=c(t,a,n,i),null==e||d(e,"",v,t),f(t)}var y=r(1),m=r(3),b=r(4),E=r(5),_="function"===typeof Symbol&&Symbol.for,k=_?Symbol.for("react.element"):60103,w=_?Symbol.for("react.portal"):60106,T=_?Symbol.for("react.fragment"):60107,R=_?Symbol.for("react.strict_mode"):60108,S=_?Symbol.for("react.profiler"):60114,A=_?Symbol.for("react.provider"):60109,O=_?Symbol.for("react.context"):60110,L=_?Symbol.for("react.async_mode"):60111,C=_?Symbol.for("react.forward_ref"):60112;_&&Symbol.for("react.timeout");var x="function"===typeof Symbol&&Symbol.iterator,D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&n("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=i.prototype;var P=o.prototype=new a;P.constructor=o,y(P,i.prototype),P.isPureReactComponent=!0;var I={current:null},N=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0},F=/\/+/g,U=[],B={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return g(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;t=c(null,null,t,r),null==e||d(e,"",p,t),f(t)},count:function(e){return null==e?0:d(e,"",E.thatReturnsNull,null)},toArray:function(e){var t=[];return g(e,t,null,E.thatReturnsArgument),t},only:function(e){return l(e)||n("143"),e}},createRef:function(){return{current:null}},Component:i,PureComponent:o,createContext:function(e,t){return void 0===t&&(t=null),e={$$typeof:O,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null},e.Provider={$$typeof:A,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:C,render:e}},Fragment:T,StrictMode:R,unstable_AsyncMode:L,unstable_Profiler:S,createElement:s,cloneElement:function(e,t,r){(null===e||void 0===e)&&n("267",e);var i=void 0,a=y({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,l=I.current),void 0!==t.key&&(o=""+t.key);var u=void 0;e.type&&e.type.defaultProps&&(u=e.type.defaultProps);for(i in t)N.call(t,i)&&!M.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==u?u[i]:t[i])}if(1===(i=arguments.length-2))a.children=r;else if(1<i){u=Array(i);for(var c=0;c<i;c++)u[c]=arguments[c+2];a.children=u}return{$$typeof:k,type:e.type,key:o,ref:s,props:a,_owner:l}},createFactory:function(e){var t=s.bind(null,e);return t.type=e,t},isValidElement:l,version:"16.4.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:I,assign:y}},G={default:B},j=G&&B||G;e.exports=j.default?j.default:j},function(e,t,r){"use strict";function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),e.exports=r(16)},function(e,t,r){"use strict";function n(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);Pn(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}function i(e,t,r,n,i,a,o,s,l){this._hasCaughtError=!1,this._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}function a(){if(Hn._hasRethrowError){var e=Hn._rethrowError;throw Hn._rethrowError=null,Hn._hasRethrowError=!1,e}}function o(){if(zn)for(var e in Vn){var t=Vn[e],r=zn.indexOf(e);if(-1<r||n("96",e),!Wn[r]){t.extractEvents||n("97",e),Wn[r]=t,r=t.eventTypes;for(var i in r){var a=void 0,o=r[i],l=t,u=i;Kn.hasOwnProperty(u)&&n("99",u),Kn[u]=o;var c=o.phasedRegistrationNames;if(c){for(a in c)c.hasOwnProperty(a)&&s(c[a],l,u);a=!0}else o.registrationName?(s(o.registrationName,l,u),a=!0):a=!1;a||n("98",i,e)}}}}function s(e,t,r){Yn[e]&&n("100",e),Yn[e]=t,qn[e]=t.eventTypes[r].dependencies}function l(e){zn&&n("101"),zn=Array.prototype.slice.call(e),o()}function u(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];Vn.hasOwnProperty(t)&&Vn[t]===i||(Vn[t]&&n("102",t),Vn[t]=i,r=!0)}r&&o()}function c(e,t,r,n){t=e.type||"unknown-event",e.currentTarget=Jn(n),Hn.invokeGuardedCallbackAndCatchFirstError(t,r,void 0,e),e.currentTarget=null}function f(e,t){return null==t&&n("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function d(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}function h(e,t){if(e){var r=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(r))for(var i=0;i<r.length&&!e.isPropagationStopped();i++)c(e,t,r[i],n[i]);else r&&c(e,t,r,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function p(e){return h(e,!0)}function v(e){return h(e,!1)}function g(e,t){var r=e.stateNode;if(!r)return null;var i=$n(r);if(!i)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(r&&"function"!==typeof r&&n("231",t,typeof r),r)}function y(e,t){null!==e&&(Zn=f(Zn,e)),e=Zn,Zn=null,e&&(t?d(e,p):d(e,v),Zn&&n("95"),Hn.rethrowCaughtError())}function m(e,t,r,n){for(var i=null,a=0;a<Wn.length;a++){var o=Wn[a];o&&(o=o.extractEvents(e,t,r,n))&&(i=f(i,o))}y(i,!1)}function b(e){if(e[ni])return e[ni];for(;!e[ni];){if(!e.parentNode)return null;e=e.parentNode}return e=e[ni],5===e.tag||6===e.tag?e:null}function E(e){if(5===e.tag||6===e.tag)return e.stateNode;n("33")}function _(e){return e[ii]||null}function k(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function w(e,t,r){for(var n=[];e;)n.push(e),e=k(e);for(e=n.length;0<e--;)t(n[e],"captured",r);for(e=0;e<n.length;e++)t(n[e],"bubbled",r)}function T(e,t,r){(t=g(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=f(r._dispatchListeners,t),r._dispatchInstances=f(r._dispatchInstances,e))}function R(e){e&&e.dispatchConfig.phasedRegistrationNames&&w(e._targetInst,T,e)}function S(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?k(t):null,w(t,T,e)}}function A(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=g(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=f(r._dispatchListeners,t),r._dispatchInstances=f(r._dispatchInstances,e))}function O(e){e&&e.dispatchConfig.registrationName&&A(e._targetInst,null,e)}function L(e){d(e,R)}function C(e,t,r,n){if(r&&n)e:{for(var i=r,a=n,o=0,s=i;s;s=k(s))o++;s=0;for(var l=a;l;l=k(l))s++;for(;0<o-s;)i=k(i),o--;for(;0<s-o;)a=k(a),s--;for(;o--;){if(i===a||i===a.alternate)break e;i=k(i),a=k(a)}i=null}else i=null;for(a=i,i=[];r&&r!==a&&(null===(o=r.alternate)||o!==a);)i.push(r),r=k(r);for(r=[];n&&n!==a&&(null===(o=n.alternate)||o!==a);)r.push(n),n=k(n);for(n=0;n<i.length;n++)A(i[n],"bubbled",e);for(e=r.length;0<e--;)A(r[e],"captured",t)}function x(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r["ms"+e]="MS"+t,r["O"+e]="o"+t.toLowerCase(),r}function D(e){if(li[e])return li[e];if(!si[e])return e;var t,r=si[e];for(t in r)if(r.hasOwnProperty(t)&&t in ui)return li[e]=r[t];return e}function P(){return!vi&&Nn.canUseDOM&&(vi="textContent"in document.documentElement?"textContent":"innerText"),vi}function I(){if(gi._fallbackText)return gi._fallbackText;var e,t,r=gi._startText,n=r.length,i=N(),a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return gi._fallbackText=i.slice(e,1<t?1-t:void 0),gi._fallbackText}function N(){return"value"in gi._root?gi._root.value:gi._root[P()]}function M(e,t,r,n){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Fn.thatReturnsTrue:Fn.thatReturnsFalse,this.isPropagationStopped=Fn.thatReturnsFalse,this}function F(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function U(e){e instanceof this||n("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function B(e){e.eventPool=[],e.getPooled=F,e.release=U}function G(e,t){switch(e){case"keyup":return-1!==_i.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function j(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function H(e,t){switch(e){case"compositionend":return j(t);case"keypress":return 32!==t.which?null:(Oi=!0,Si);case"textInput":return e=t.data,e===Si&&Oi?null:e;default:return null}}function z(e,t){if(Li)return"compositionend"===e||!ki&&G(e,t)?(e=I(),gi._root=null,gi._startText=null,gi._fallbackText=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ri?null:t.data;default:return null}}function V(e){if(e=Qn(e)){xi&&"function"===typeof xi.restoreControlledState||n("194");var t=$n(e.stateNode);xi.restoreControlledState(e.stateNode,e.type,t)}}function W(e){Pi?Ii?Ii.push(e):Ii=[e]:Pi=e}function K(){return null!==Pi||null!==Ii}function Y(){if(Pi){var e=Pi,t=Ii;if(Ii=Pi=null,V(e),t)for(e=0;e<t.length;e++)V(t[e])}}function q(e,t){return e(t)}function X(e,t,r){return e(t,r)}function $(){}function Q(e,t){if(Mi)return e(t);Mi=!0;try{return q(e,t)}finally{Mi=!1,K()&&($(),Y())}}function J(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fi[e.type]:"textarea"===t}function Z(e){return e=e.target||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ee(e,t){return!(!Nn.canUseDOM||t&&!("addEventListener"in document))&&(e="on"+e,t=e in document,t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]),t)}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function re(e){var t=te(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ne(e){e._valueTracker||(e._valueTracker=re(e))}function ie(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=te(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ae(e){return null===e||"undefined"===typeof e?null:(e=$i&&e[$i]||e["@@iterator"],"function"===typeof e?e:null)}function oe(e){var t=e.type;if("function"===typeof t)return t.displayName||t.name;if("string"===typeof t)return t;switch(t){case Yi:return"AsyncMode";case Ki:return"Context.Consumer";case Hi:return"ReactFragment";case ji:return"ReactPortal";case Vi:return"Profiler("+e.pendingProps.id+")";case Wi:return"Context.Provider";case zi:return"StrictMode";case Xi:return"Timeout"}if("object"===typeof t&&null!==t)switch(t.$$typeof){case qi:return e=t.render.displayName||t.render.name||"",""!==e?"ForwardRef("+e+")":"ForwardRef"}return null}function se(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var r=e._debugOwner,n=e._debugSource,i=oe(e),a=null;r&&(a=oe(r)),r=n,i="\n    in "+(i||"Unknown")+(r?" (at "+r.fileName.replace(/^.*[\\\/]/,"")+":"+r.lineNumber+")":a?" (created by "+a+")":"");break e;default:i=""}t+=i,e=e.return}while(e);return t}function le(e){return!!Zi.hasOwnProperty(e)||!Ji.hasOwnProperty(e)&&(Qi.test(e)?Zi[e]=!0:(Ji[e]=!0,!1))}function ue(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function ce(e,t,r,n){if(null===t||"undefined"===typeof t||ue(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fe(e,t,r,n,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t}function de(e){return e[1].toUpperCase()}function he(e,t,r,n){var i=ea.hasOwnProperty(t)?ea[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(ce(t,r,i,n)&&(r=null),n||null===i?le(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(i=i.type,r=3===i||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function pe(e,t){var r=t.checked;return Mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ve(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Ee(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ge(e,t){null!=(t=t.checked)&&he(e,"checked",t,!1)}function ye(e,t){ge(e,t);var r=Ee(t.value);null!=r&&("number"===t.type?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r)),t.hasOwnProperty("value")?be(e,t.type,r):t.hasOwnProperty("defaultValue")&&be(e,t.type,Ee(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function me(e,t){(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===e.value&&(e.value=""+e._wrapperState.initialValue),e.defaultValue=""+e._wrapperState.initialValue),t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function be(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Ee(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _e(e,t,r){return e=M.getPooled(ra.change,e,t,r),e.type="change",W(r),L(e),e}function ke(e){y(e,!1)}function we(e){if(ie(E(e)))return e}function Te(e,t){if("change"===e)return t}function Re(){na&&(na.detachEvent("onpropertychange",Se),ia=na=null)}function Se(e){"value"===e.propertyName&&we(ia)&&(e=_e(ia,e,Z(e)),Q(ke,e))}function Ae(e,t,r){"focus"===e?(Re(),na=t,ia=r,na.attachEvent("onpropertychange",Se)):"blur"===e&&Re()}function Oe(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return we(ia)}function Le(e,t){if("click"===e)return we(t)}function Ce(e,t){if("input"===e||"change"===e)return we(t)}function xe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=la[e])&&!!t[e]}function De(){return xe}function Pe(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 3===t.tag?2:3}function Ie(e){2!==Pe(e)&&n("188")}function Ne(e){var t=e.alternate;if(!t)return t=Pe(e),3===t&&n("188"),1===t?null:e;for(var r=e,i=t;;){var a=r.return,o=a?a.alternate:null;if(!a||!o)break;if(a.child===o.child){for(var s=a.child;s;){if(s===r)return Ie(a),e;if(s===i)return Ie(a),t;s=s.sibling}n("188")}if(r.return!==i.return)r=a,i=o;else{s=!1;for(var l=a.child;l;){if(l===r){s=!0,r=a,i=o;break}if(l===i){s=!0,i=a,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,i=a;break}if(l===i){s=!0,i=o,r=a;break}l=l.sibling}s||n("189")}}r.alternate!==i&&n("190")}return 3!==r.tag&&n("188"),r.stateNode.current===r?e:t}function Me(e){if(!(e=Ne(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Fe(e){if(!(e=Ne(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ue(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Be(e,t){var r=e[0];e=e[1];var n="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r],isInteractive:t},Ta[e]=t,Ra[r]=t}function Ge(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var r;for(r=t;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(t),t=b(r)}while(t);for(r=0;r<e.ancestors.length;r++)t=e.ancestors[r],m(e.topLevelType,t,e.nativeEvent,Z(e.nativeEvent))}function je(e){La=!!e}function He(e,t){if(!t)return null;var r=(Aa(e)?Ve:We).bind(null,e);t.addEventListener(e,r,!1)}function ze(e,t){if(!t)return null;var r=(Aa(e)?Ve:We).bind(null,e);t.addEventListener(e,r,!0)}function Ve(e,t){X(We,e,t)}function We(e,t){if(La){var r=Z(t);if(r=b(r),null===r||"number"!==typeof r.tag||2===Pe(r)||(r=null),Oa.length){var n=Oa.pop();n.topLevelType=e,n.nativeEvent=t,n.targetInst=r,e=n}else e={topLevelType:e,nativeEvent:t,targetInst:r,ancestors:[]};try{Q(Ge,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Oa.length&&Oa.push(e)}}}function Ke(e){return Object.prototype.hasOwnProperty.call(e,Pa)||(e[Pa]=Da++,xa[e[Pa]]={}),xa[e[Pa]]}function Ye(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qe(e,t){var r=Ye(e);e=0;for(var n;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ye(r)}}function Xe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function $e(e,t){if(Ba||null==Ma||Ma!==Un())return null;var r=Ma;return"selectionStart"in r&&Xe(r)?r={start:r.selectionStart,end:r.selectionEnd}:window.getSelection?(r=window.getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}):r=void 0,Ua&&Bn(Ua,r)?null:(Ua=r,e=M.getPooled(Na.select,Fa,e,t),e.type="select",e.target=Ma,L(e),e)}function Qe(e){var t="";return In.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}function Je(e,t){return e=Mn({children:void 0},t),(t=Qe(t.children))&&(e.children=t),e}function Ze(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+r,t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function et(e,t){var r=t.value;e._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple}}function tt(e,t){return null!=t.dangerouslySetInnerHTML&&n("91"),Mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rt(e,t){var r=t.value;null==r&&(r=t.defaultValue,t=t.children,null!=t&&(null!=r&&n("92"),Array.isArray(t)&&(1>=t.length||n("93"),t=t[0]),r=""+t),null==r&&(r="")),e._wrapperState={initialValue:""+r}}function nt(e,t){var r=t.value;null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&(e.defaultValue=r)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function it(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function at(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?at(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function st(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function lt(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=r,a=t[r];i=null==a||"boolean"===typeof a||""===a?"":n||"number"!==typeof a||0===a||lo.hasOwnProperty(i)&&lo[i]?(""+a).trim():a+"px","float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}function ut(e,t,r){t&&(co[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&n("137",e,r()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&n("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||n("61")),null!=t.style&&"object"!==typeof t.style&&n("62",r()))}function ct(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ft(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var r=Ke(e);t=qn[t];for(var n=0;n<t.length;n++){var i=t[n];if(!r.hasOwnProperty(i)||!r[i]){switch(i){case"scroll":ze("scroll",e);break;case"focus":case"blur":ze("focus",e),ze("blur",e),r.blur=!0,r.focus=!0;break;case"cancel":case"close":ee(i,!0)&&ze(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===pi.indexOf(i)&&He(i,e)}r[i]=!0}}}function dt(e,t,r,n){return r=9===r.nodeType?r:r.ownerDocument,n===ao.html&&(n=at(e)),n===ao.html?"script"===e?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?r.createElement(e,{is:t.is}):r.createElement(e):e=r.createElementNS(n,e),e}function ht(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function pt(e,t,r,n){var i=ct(t,r);switch(t){case"iframe":case"object":He("load",e);var a=r;break;case"video":case"audio":for(a=0;a<pi.length;a++)He(pi[a],e);a=r;break;case"source":He("error",e),a=r;break;case"img":case"image":case"link":He("error",e),He("load",e),a=r;break;case"form":He("reset",e),He("submit",e),a=r;break;case"details":He("toggle",e),a=r;break;case"input":ve(e,r),a=pe(e,r),He("invalid",e),ft(n,"onChange");break;case"option":a=Je(e,r);break;case"select":et(e,r),a=Mn({},r,{value:void 0}),He("invalid",e),ft(n,"onChange");break;case"textarea":rt(e,r),a=tt(e,r),He("invalid",e),ft(n,"onChange");break;default:a=r}ut(t,a,fo);var o,s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?lt(e,l,fo):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&so(e,l):"children"===o?"string"===typeof l?("textarea"!==t||""!==l)&&st(e,l):"number"===typeof l&&st(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Yn.hasOwnProperty(o)?null!=l&&ft(n,o):null!=l&&he(e,o,l,i))}switch(t){case"input":ne(e),me(e,r);break;case"textarea":ne(e),it(e,r);break;case"option":null!=r.value&&e.setAttribute("value",r.value);break;case"select":e.multiple=!!r.multiple,t=r.value,null!=t?Ze(e,!!r.multiple,t,!1):null!=r.defaultValue&&Ze(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Fn)}}function vt(e,t,r,n,i){var a=null;switch(t){case"input":r=pe(e,r),n=pe(e,n),a=[];break;case"option":r=Je(e,r),n=Je(e,n),a=[];break;case"select":r=Mn({},r,{value:void 0}),n=Mn({},n,{value:void 0}),a=[];break;case"textarea":r=tt(e,r),n=tt(e,n),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=Fn)}ut(t,n,fo),t=e=void 0;var o=null;for(e in r)if(!n.hasOwnProperty(e)&&r.hasOwnProperty(e)&&null!=r[e])if("style"===e){var s=r[e];for(t in s)s.hasOwnProperty(t)&&(o||(o={}),o[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(Yn.hasOwnProperty(e)?a||(a=[]):(a=a||[]).push(e,null));for(e in n){var l=n[e];if(s=null!=r?r[e]:void 0,n.hasOwnProperty(e)&&l!==s&&(null!=l||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||l&&l.hasOwnProperty(t)||(o||(o={}),o[t]="");for(t in l)l.hasOwnProperty(t)&&s[t]!==l[t]&&(o||(o={}),o[t]=l[t])}else o||(a||(a=[]),a.push(e,o)),o=l;else"dangerouslySetInnerHTML"===e?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(e,""+l)):"children"===e?s===l||"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(e,""+l):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(Yn.hasOwnProperty(e)?(null!=l&&ft(i,e),a||s===l||(a=[])):(a=a||[]).push(e,l))}return o&&(a=a||[]).push("style",o),a}function gt(e,t,r,n,i){"input"===r&&"radio"===i.type&&null!=i.name&&ge(e,i),ct(r,n),n=ct(r,i);for(var a=0;a<t.length;a+=2){var o=t[a],s=t[a+1];"style"===o?lt(e,s,fo):"dangerouslySetInnerHTML"===o?so(e,s):"children"===o?st(e,s):he(e,o,s,n)}switch(r){case"input":ye(e,i);break;case"textarea":nt(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,r=i.value,null!=r?Ze(e,!!i.multiple,r,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ze(e,!!i.multiple,i.defaultValue,!0):Ze(e,!!i.multiple,i.multiple?[]:"",!1))}}function yt(e,t,r,n,i){switch(t){case"iframe":case"object":He("load",e);break;case"video":case"audio":for(n=0;n<pi.length;n++)He(pi[n],e);break;case"source":He("error",e);break;case"img":case"image":case"link":He("error",e),He("load",e);break;case"form":He("reset",e),He("submit",e);break;case"details":He("toggle",e);break;case"input":ve(e,r),He("invalid",e),ft(i,"onChange");break;case"select":et(e,r),He("invalid",e),ft(i,"onChange");break;case"textarea":rt(e,r),He("invalid",e),ft(i,"onChange")}ut(t,r,fo),n=null;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];"children"===a?"string"===typeof o?e.textContent!==o&&(n=["children",o]):"number"===typeof o&&e.textContent!==""+o&&(n=["children",""+o]):Yn.hasOwnProperty(a)&&null!=o&&ft(i,a)}switch(t){case"input":ne(e),me(e,r);break;case"textarea":ne(e),it(e,r);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(e.onclick=Fn)}return n}function mt(e,t){return e.nodeValue!==t}function bt(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Et(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html}function _t(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function kt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function wt(e){return{current:e}}function Tt(e){0>Eo||(e.current=bo[Eo],bo[Eo]=null,Eo--)}function Rt(e,t){Eo++,bo[Eo]=e.current,e.current=t}function St(e){return Ot(e)?wo:_o.current}function At(e,t){var r=e.type.contextTypes;if(!r)return jn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ot(e){return 2===e.tag&&null!=e.type.childContextTypes}function Lt(e){Ot(e)&&(Tt(ko,e),Tt(_o,e))}function Ct(e){Tt(ko,e),Tt(_o,e)}function xt(e,t,r){_o.current!==jn&&n("168"),Rt(_o,t,e),Rt(ko,r,e)}function Dt(e,t){var r=e.stateNode,i=e.type.childContextTypes;if("function"!==typeof r.getChildContext)return t;r=r.getChildContext();for(var a in r)a in i||n("108",oe(e)||"Unknown",a);return Mn({},t,r)}function Pt(e){if(!Ot(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||jn,wo=_o.current,Rt(_o,t,e),Rt(ko,ko.current,e),!0}function It(e,t){var r=e.stateNode;if(r||n("169"),t){var i=Dt(e,wo);r.__reactInternalMemoizedMergedChildContext=i,Tt(ko,e),Tt(_o,e),Rt(_o,i,e)}else Tt(ko,e);Rt(ko,t,e)}function Nt(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Mt(e,t,r){var n=e.alternate;return null===n?(n=new Nt(e.tag,t,e.key,e.mode),n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.expirationTime=r,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ft(e,t,r){var i=e.type,a=e.key;if(e=e.props,"function"===typeof i)var o=i.prototype&&i.prototype.isReactComponent?2:0;else if("string"===typeof i)o=5;else switch(i){case Hi:return Ut(e.children,t,r,a);case Yi:o=11,t|=3;break;case zi:o=11,t|=2;break;case Vi:return i=new Nt(15,e,a,4|t),i.type=Vi,i.expirationTime=r,i;case Xi:o=16,t|=2;break;default:e:{switch("object"===typeof i&&null!==i?i.$$typeof:null){case Wi:o=13;break e;case Ki:o=12;break e;case qi:o=14;break e;default:n("130",null==i?i:typeof i,"")}o=void 0}}return t=new Nt(o,e,a,t),t.type=i,t.expirationTime=r,t}function Ut(e,t,r,n){return e=new Nt(10,e,n,t),e.expirationTime=r,e}function Bt(e,t,r){return e=new Nt(6,e,null,t),e.expirationTime=r,e}function Gt(e,t,r){return t=new Nt(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jt(e,t,r){return t=new Nt(3,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:r,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}function Ht(e){return function(t){try{return e(t)}catch(e){}}}function zt(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);To=Ht(function(e){return t.onCommitFiberRoot(r,e)}),Ro=Ht(function(e){return t.onCommitFiberUnmount(r,e)})}catch(e){}return!0}function Vt(e){"function"===typeof To&&To(e)}function Wt(e){"function"===typeof Ro&&Ro(e)}function Kt(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yt(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function qt(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Xt(e,t,r){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>r)&&(e.expirationTime=r)}function $t(e,t,r){var n=e.alternate;if(null===n){var i=e.updateQueue,a=null;null===i&&(i=e.updateQueue=Kt(e.memoizedState))}else i=e.updateQueue,a=n.updateQueue,null===i?null===a?(i=e.updateQueue=Kt(e.memoizedState),a=n.updateQueue=Kt(n.memoizedState)):i=e.updateQueue=Yt(a):null===a&&(a=n.updateQueue=Yt(i));null===a||i===a?Xt(i,t,r):null===i.lastUpdate||null===a.lastUpdate?(Xt(i,t,r),Xt(a,t,r)):(Xt(i,t,r),a.lastUpdate=t)}function Qt(e,t,r){var n=e.updateQueue;n=null===n?e.updateQueue=Kt(e.memoizedState):Jt(e,n),null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t),(0===n.expirationTime||n.expirationTime>r)&&(n.expirationTime=r)}function Jt(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=Yt(t)),t}function Zt(e,t,r,n,i,a){switch(r.tag){case 1:return e=r.payload,"function"===typeof e?e.call(a,n,i):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(e=r.payload,null===(i="function"===typeof e?e.call(a,n,i):e)||void 0===i)break;return Mn({},n,i);case 2:So=!0}return n}function er(e,t,r,n,i){if(So=!1,!(0===t.expirationTime||t.expirationTime>i)){t=Jt(e,t);for(var a=t.baseState,o=null,s=0,l=t.firstUpdate,u=a;null!==l;){var c=l.expirationTime;c>i?(null===o&&(o=l,a=u),(0===s||s>c)&&(s=c)):(u=Zt(e,t,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var f=l.expirationTime;f>i?(null===c&&(c=l,null===o&&(a=u)),(0===s||s>f)&&(s=f)):(u=Zt(e,t,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===c&&(a=u),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=c,t.expirationTime=s,e.memoizedState=u}}function tr(e,t){"function"!==typeof e&&n("191",e),e.call(t)}function rr(e,t,r){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var n=e.callback;null!==n&&(e.callback=null,tr(n,r)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)t=e.callback,null!==t&&(e.callback=null,tr(t,r)),e=e.nextEffect}function nr(e,t){return{value:e,source:t,stack:se(t)}}function ir(e){var t=e.type._context;Rt(Lo,t._changedBits,e),Rt(Oo,t._currentValue,e),Rt(Ao,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function ar(e){var t=Lo.current,r=Oo.current;Tt(Ao,e),Tt(Oo,e),Tt(Lo,e),e=e.type._context,e._currentValue=r,e._changedBits=t}function or(e){return e===Co&&n("174"),e}function sr(e,t){Rt(Po,t,e),Rt(Do,e,e),Rt(xo,Co,e);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ot(null,"");break;default:r=8===r?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=ot(t,r)}Tt(xo,e),Rt(xo,t,e)}function lr(e){Tt(xo,e),Tt(Do,e),Tt(Po,e)}function ur(e){Do.current===e&&(Tt(xo,e),Tt(Do,e))}function cr(e,t,r){var n=e.memoizedState;t=t(r,n),n=null===t||void 0===t?n:Mn({},n,t),e.memoizedState=n,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=n)}function fr(e,t,r,n,i,a){var o=e.stateNode;return e=e.type,"function"===typeof o.shouldComponentUpdate?o.shouldComponentUpdate(r,i,a):!e.prototype||!e.prototype.isPureReactComponent||(!Bn(t,r)||!Bn(n,i))}function dr(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function hr(e,t){var r=e.type,n=e.stateNode,i=e.pendingProps,a=St(e);n.props=i,n.state=e.memoizedState,n.refs=jn,n.context=At(e,a),a=e.updateQueue,null!==a&&(er(e,a,i,n,t),n.state=e.memoizedState),a=e.type.getDerivedStateFromProps,"function"===typeof a&&(cr(e,a,i),n.state=e.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(r=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),r!==n.state&&Io.enqueueReplaceState(n,n.state,null),null!==(a=e.updateQueue)&&(er(e,a,i,n,t),n.state=e.memoizedState)),"function"===typeof n.componentDidMount&&(e.effectTag|=4)}function pr(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;var i=void 0;r&&(2!==r.tag&&n("110"),i=r.stateNode),i||n("147",e);var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs===jn?i.refs={}:i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}"string"!==typeof e&&n("148"),r._owner||n("254",e)}return e}function vr(e,t){"textarea"!==e.type&&n("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function gr(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,r){return e=Mt(e,t,r),e.index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index,n<r?(t.effectTag=2,r):n):(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?(t=Bt(r,e.mode,n),t.return=e,t):(t=a(t,r,n),t.return=e,t)}function u(e,t,r,n){return null!==t&&t.type===r.type?(n=a(t,r.props,n),n.ref=pr(e,t,r),n.return=e,n):(n=Ft(r,e.mode,n),n.ref=pr(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(t=Gt(r,e.mode,n),t.return=e,t):(t=a(t,r.children||[],n),t.return=e,t)}function f(e,t,r,n,i){return null===t||10!==t.tag?(t=Ut(r,e.mode,n,i),t.return=e,t):(t=a(t,r,n),t.return=e,t)}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return t=Bt(""+t,e.mode,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Gi:return r=Ft(t,e.mode,r),r.ref=pr(e,null,t),r.return=e,r;case ji:return t=Gt(t,e.mode,r),t.return=e,t}if(No(t)||ae(t))return t=Ut(t,e.mode,r,null),t.return=e,t;vr(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Gi:return r.key===i?r.type===Hi?f(e,t,r.props.children,n,i):u(e,t,r,n):null;case ji:return r.key===i?c(e,t,r,n):null}if(No(r)||ae(r))return null!==i?null:f(e,t,r,n,null);vr(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return e=e.get(r)||null,l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Gi:return e=e.get(null===n.key?r:n.key)||null,n.type===Hi?f(t,e,n.props.children,i,n.key):u(t,e,n,i);case ji:return e=e.get(null===n.key?r:n.key)||null,c(t,e,n,i)}if(No(n)||ae(n))return e=e.get(r)||null,f(t,e,n,i,null);vr(t,n)}return null}function v(n,a,s,l){for(var u=null,c=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=h(n,f,s[v],l);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(n,f),a=o(y,a,v),null===c?u=y:c.sibling=y,c=y,f=g}if(v===s.length)return r(n,f),u;if(null===f){for(;v<s.length;v++)(f=d(n,s[v],l))&&(a=o(f,a,v),null===c?u=f:c.sibling=f,c=f);return u}for(f=i(n,f);v<s.length;v++)(g=p(f,n,v,s[v],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(n,e)}),u}function g(a,s,l,u){var c=ae(l);"function"!==typeof c&&n("150"),null==(l=c.call(l))&&n("151");for(var f=c=null,v=s,g=s=0,y=null,m=l.next();null!==v&&!m.done;g++,m=l.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=h(a,v,m.value,u);if(null===b){v||(v=y);break}e&&v&&null===b.alternate&&t(a,v),s=o(b,s,g),null===f?c=b:f.sibling=b,f=b,v=y}if(m.done)return r(a,v),c;if(null===v){for(;!m.done;g++,m=l.next())null!==(m=d(a,m.value,u))&&(s=o(m,s,g),null===f?c=m:f.sibling=m,f=m);return c}for(v=i(a,v);!m.done;g++,m=l.next())null!==(m=p(v,a,g,m.value,u))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===f?c=m:f.sibling=m,f=m);return e&&v.forEach(function(e){return t(a,e)}),c}return function(e,i,o,l){"object"===typeof o&&null!==o&&o.type===Hi&&null===o.key&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case Gi:e:{var c=o.key;for(u=i;null!==u;){if(u.key===c){if(10===u.tag?o.type===Hi:u.type===o.type){r(e,u.sibling),i=a(u,o.type===Hi?o.props.children:o.props,l),i.ref=pr(e,u,o),i.return=e,e=i;break e}r(e,u);break}t(e,u),u=u.sibling}o.type===Hi?(i=Ut(o.props.children,e.mode,l,o.key),i.return=e,e=i):(l=Ft(o,e.mode,l),l.ref=pr(e,i,o),l.return=e,e=l)}return s(e);case ji:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(e,i.sibling),i=a(i,o.children||[],l),i.return=e,e=i;break e}r(e,i);break}t(e,i),i=i.sibling}i=Gt(o,e.mode,l),i.return=e,e=i}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(r(e,i.sibling),i=a(i,o,l),i.return=e,e=i):(r(e,i),i=Bt(o,e.mode,l),i.return=e,e=i),s(e);if(No(o))return v(e,i,o,l);if(ae(o))return g(e,i,o,l);if(u&&vr(e,o),"undefined"===typeof o)switch(e.tag){case 2:case 1:l=e.type,n("152",l.displayName||l.name||"Component")}return r(e,i)}}function yr(e,t){var r=new Nt(5,null,null,0);r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function mr(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function br(e){if(Go){var t=Bo;if(t){var r=t;if(!mr(e,t)){if(!(t=_t(r))||!mr(e,t))return e.effectTag|=2,Go=!1,void(Uo=e);yr(Uo,r)}Uo=e,Bo=kt(t)}else e.effectTag|=2,Go=!1,Uo=e}}function Er(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Uo=e}function _r(e){if(e!==Uo)return!1;if(!Go)return Er(e),Go=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Et(t,e.memoizedProps))for(t=Bo;t;)yr(e,t),t=_t(t);return Er(e),Bo=Uo?_t(e.stateNode):null,!0}function kr(){Bo=Uo=null,Go=!1}function wr(e,t,r){Tr(e,t,r,t.expirationTime)}function Tr(e,t,r,n){t.child=null===e?Fo(t,null,r,n):Mo(t,e.child,r,n)}function Rr(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Sr(e,t,r,n,i){Rr(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return n&&It(t,!1),Cr(e,t);r=t.stateNode,Ui.current=t;var o=a?null:r.render();return t.effectTag|=1,a&&(Tr(e,t,null,i),t.child=null),Tr(e,t,o,i),t.memoizedState=r.state,t.memoizedProps=r.props,n&&It(t,!0),t.child}function Ar(e){var t=e.stateNode;t.pendingContext?xt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xt(e,t.context,!1),sr(e,t.containerInfo)}function Or(e,t,r,n){var i=e.child;for(null!==i&&(i.return=e);null!==i;){switch(i.tag){case 12:var a=0|i.stateNode;if(i.type===t&&0!==(a&r)){for(a=i;null!==a;){var o=a.alternate;if(0===a.expirationTime||a.expirationTime>n)a.expirationTime=n,null!==o&&(0===o.expirationTime||o.expirationTime>n)&&(o.expirationTime=n);else{if(null===o||!(0===o.expirationTime||o.expirationTime>n))break;o.expirationTime=n}a=a.return}a=null}else a=i.child;break;case 13:a=i.type===e.type?null:i.child;break;default:a=i.child}if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Lr(e,t,r){var n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=!0;if(ko.current)o=!1;else if(a===i)return t.stateNode=0,ir(t),Cr(e,t);var s=i.value;if(t.memoizedProps=i,null===a)s=1073741823;else if(a.value===i.value){if(a.children===i.children&&o)return t.stateNode=0,ir(t),Cr(e,t);s=0}else{var l=a.value;if(l===s&&(0!==l||1/l===1/s)||l!==l&&s!==s){if(a.children===i.children&&o)return t.stateNode=0,ir(t),Cr(e,t);s=0}else if(s="function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,s):1073741823,0===(s|=0)){if(a.children===i.children&&o)return t.stateNode=0,ir(t),Cr(e,t)}else Or(t,n,s,r)}return t.stateNode=s,ir(t),wr(e,t,i.children),t.child}function Cr(e,t){if(null!==e&&t.child!==e.child&&n("153"),null!==t.child){e=t.child;var r=Mt(e,e.pendingProps,e.expirationTime);for(t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=Mt(e,e.pendingProps,e.expirationTime),r.return=t;r.sibling=null}return t.child}function xr(e,t,r){if(0===t.expirationTime||t.expirationTime>r){switch(t.tag){case 3:Ar(t);break;case 2:Pt(t);break;case 4:sr(t,t.stateNode.containerInfo);break;case 13:ir(t)}return null}switch(t.tag){case 0:null!==e&&n("155");var i=t.type,a=t.pendingProps,o=St(t);return o=At(t,o),i=i(a,o),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,o=o.getDerivedStateFromProps,"function"===typeof o&&cr(t,o,a),a=Pt(t),i.updater=Io,t.stateNode=i,i._reactInternalFiber=t,hr(t,r),e=Sr(e,t,!0,a,r)):(t.tag=1,wr(e,t,i),t.memoizedProps=a,e=t.child),e;case 1:return a=t.type,r=t.pendingProps,ko.current||t.memoizedProps!==r?(i=St(t),i=At(t,i),a=a(r,i),t.effectTag|=1,wr(e,t,a),t.memoizedProps=r,e=t.child):e=Cr(e,t),e;case 2:if(a=Pt(t),null===e)if(null===t.stateNode){var s=t.pendingProps,l=t.type;i=St(t);var u=2===t.tag&&null!=t.type.contextTypes;o=u?At(t,i):jn,s=new l(s,o),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Io,t.stateNode=s,s._reactInternalFiber=t,u&&(u=t.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=i,u.__reactInternalMemoizedMaskedChildContext=o),hr(t,r),i=!0}else{l=t.type,i=t.stateNode,u=t.memoizedProps,o=t.pendingProps,i.props=u;var c=i.context;s=St(t),s=At(t,s);var f=l.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(u!==o||c!==s)&&dr(t,i,o,s),So=!1;var d=t.memoizedState;c=i.state=d;var h=t.updateQueue;null!==h&&(er(t,h,o,i,r),c=t.memoizedState),u!==o||d!==c||ko.current||So?("function"===typeof f&&(cr(t,f,o),c=t.memoizedState),(u=So||fr(t,u,o,d,c,s))?(l||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.effectTag|=4)):("function"===typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=c),i.props=o,i.state=c,i.context=s,i=u):("function"===typeof i.componentDidMount&&(t.effectTag|=4),i=!1)}else l=t.type,i=t.stateNode,o=t.memoizedProps,u=t.pendingProps,i.props=o,c=i.context,s=St(t),s=At(t,s),f=l.getDerivedStateFromProps,(l="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||c!==s)&&dr(t,i,u,s),So=!1,c=t.memoizedState,d=i.state=c,h=t.updateQueue,null!==h&&(er(t,h,u,i,r),d=t.memoizedState),o!==u||c!==d||ko.current||So?("function"===typeof f&&(cr(t,f,u),d=t.memoizedState),(f=So||fr(t,o,u,c,d,s))?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(u,d,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(u,d,s)),"function"===typeof i.componentDidUpdate&&(t.effectTag|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=u,t.memoizedState=d),i.props=u,i.state=d,i.context=s,i=f):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),i=!1);return Sr(e,t,i,a,r);case 3:return Ar(t),a=t.updateQueue,null!==a?(i=t.memoizedState,i=null!==i?i.element:null,er(t,a,t.pendingProps,null,r),(a=t.memoizedState.element)===i?(kr(),e=Cr(e,t)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(Bo=kt(t.stateNode.containerInfo),Uo=t,i=Go=!0),i?(t.effectTag|=2,t.child=Fo(t,null,a,r)):(kr(),wr(e,t,a)),e=t.child)):(kr(),e=Cr(e,t)),e;case 5:return or(Po.current),a=or(xo.current),i=ot(a,t.type),a!==i&&(Rt(Do,t,t),Rt(xo,i,t)),null===e&&br(t),a=t.type,u=t.memoizedProps,i=t.pendingProps,o=null!==e?e.memoizedProps:null,ko.current||u!==i||((u=1&t.mode&&!!i.hidden)&&(t.expirationTime=1073741823),u&&1073741823===r)?(u=i.children,Et(a,i)?u=null:o&&Et(a,o)&&(t.effectTag|=16),Rr(e,t),1073741823!==r&&1&t.mode&&i.hidden?(t.expirationTime=1073741823,t.memoizedProps=i,e=null):(wr(e,t,u),t.memoizedProps=i,e=t.child)):e=Cr(e,t),e;case 6:return null===e&&br(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return sr(t,t.stateNode.containerInfo),a=t.pendingProps,ko.current||t.memoizedProps!==a?(null===e?t.child=Mo(t,null,a,r):wr(e,t,a),t.memoizedProps=a,e=t.child):e=Cr(e,t),e;case 14:return a=t.type.render,r=t.pendingProps,i=t.ref,ko.current||t.memoizedProps!==r||i!==(null!==e?e.ref:null)?(a=a(r,i),wr(e,t,a),t.memoizedProps=r,e=t.child):e=Cr(e,t),e;case 10:return r=t.pendingProps,ko.current||t.memoizedProps!==r?(wr(e,t,r),t.memoizedProps=r,e=t.child):e=Cr(e,t),e;case 11:return r=t.pendingProps.children,ko.current||null!==r&&t.memoizedProps!==r?(wr(e,t,r),t.memoizedProps=r,e=t.child):e=Cr(e,t),e;case 15:return r=t.pendingProps,t.memoizedProps===r?e=Cr(e,t):(wr(e,t,r.children),t.memoizedProps=r,e=t.child),e;case 13:return Lr(e,t,r);case 12:e:if(i=t.type,o=t.pendingProps,u=t.memoizedProps,a=i._currentValue,s=i._changedBits,ko.current||0!==s||u!==o){if(t.memoizedProps=o,l=o.unstable_observedBits,void 0!==l&&null!==l||(l=1073741823),t.stateNode=l,0!==(s&l))Or(t,i,s,r);else if(u===o){e=Cr(e,t);break e}r=o.children,r=r(a),t.effectTag|=1,wr(e,t,r),e=t.child}else e=Cr(e,t);return e;default:n("156")}}function Dr(e){e.effectTag|=4}function Pr(e,t){var r=t.pendingProps;switch(t.tag){case 1:return null;case 2:return Lt(t),null;case 3:lr(t),Ct(t);var i=t.stateNode;return i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(_r(t),t.effectTag&=-3),jo(t),null;case 5:ur(t),i=or(Po.current);var a=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,s=t.stateNode,l=or(xo.current);s=vt(s,a,o,r,i),Ho(e,t,s,a,o,r,i,l),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!r)return null===t.stateNode&&n("166"),null;if(e=or(xo.current),_r(t))r=t.stateNode,a=t.type,o=t.memoizedProps,r[ni]=t,r[ii]=o,i=yt(r,a,o,e,i),t.updateQueue=i,null!==i&&Dr(t);else{e=dt(a,r,i,e),e[ni]=t,e[ii]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}pt(e,a,r,i),bt(a,r)&&Dr(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)zo(e,t,e.memoizedProps,r);else{if("string"!==typeof r)return null===t.stateNode&&n("166"),null;i=or(Po.current),or(xo.current),_r(t)?(i=t.stateNode,r=t.memoizedProps,i[ni]=t,mt(i,r)&&Dr(t)):(i=ht(r,i),i[ni]=t,t.stateNode=i)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return lr(t),jo(t),null;case 13:return ar(t),null;case 12:return null;case 0:n("167");default:n("156")}}function Ir(e,t){var r=t.source;null===t.stack&&null!==r&&se(r),null!==r&&oe(r),t=t.value,null!==e&&2===e.tag&&oe(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Nr(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){Xr(e,t)}else t.current=null}function Mr(e){switch("function"===typeof Wt&&Wt(e),e.tag){case 2:Nr(e);var t=e.stateNode;if("function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Xr(e,t)}break;case 5:Nr(e);break;case 4:Br(e)}}function Fr(e){return 5===e.tag||3===e.tag||4===e.tag}function Ur(e){e:{for(var t=e.return;null!==t;){if(Fr(t)){var r=t;break e}t=t.return}n("160"),r=void 0}var i=t=void 0;switch(r.tag){case 5:t=r.stateNode,i=!1;break;case 3:case 4:t=r.stateNode.containerInfo,i=!0;break;default:n("161")}16&r.effectTag&&(st(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||Fr(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)if(r)if(i){var o=t,s=a.stateNode,l=r;8===o.nodeType?o.parentNode.insertBefore(s,l):o.insertBefore(s,l)}else t.insertBefore(a.stateNode,r);else i?(o=t,s=a.stateNode,8===o.nodeType?o.parentNode.insertBefore(s,o):o.appendChild(s)):t.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function Br(e){for(var t=e,r=!1,i=void 0,a=void 0;;){if(!r){r=t.return;e:for(;;){switch(null===r&&n("160"),r.tag){case 5:i=r.stateNode,a=!1;break e;case 3:case 4:i=r.stateNode.containerInfo,a=!0;break e}r=r.return}r=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(Mr(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a?(o=i,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(t.stateNode)}else if(4===t.tag?i=t.stateNode.containerInfo:Mr(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function Gr(e,t){switch(t.tag){case 2:break;case 5:var r=t.stateNode;if(null!=r){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&(r[ii]=i,gt(r,o,a,e,i))}break;case 6:null===t.stateNode&&n("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:n("163")}}function jr(e,t,r){r=qt(r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pn(n),Ir(e,t)},r}function Hr(e,t,r){r=qt(r),r.tag=3;var n=e.stateNode;return null!==n&&"function"===typeof n.componentDidCatch&&(r.callback=function(){null===is?is=new Set([this]):is.add(this);var r=t.value,n=t.stack;Ir(e,t),this.componentDidCatch(r,{componentStack:null!==n?n:""})}),r}function zr(e,t,r,n,i,a){r.effectTag|=512,r.firstEffect=r.lastEffect=null,n=nr(n,r),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,n=jr(e,n,a),void Qt(e,n,a);case 2:if(t=n,r=e.stateNode,0===(64&e.effectTag)&&null!==r&&"function"===typeof r.componentDidCatch&&(null===is||!is.has(r)))return e.effectTag|=1024,n=Hr(e,t,a),void Qt(e,n,a)}e=e.return}while(null!==e)}function Vr(e){switch(e.tag){case 2:Lt(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return lr(e),Ct(e),t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 5:return ur(e),null;case 16:return t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 4:return lr(e),null;case 13:return ar(e),null;default:return null}}function Wr(){if(null!==$o)for(var e=$o.return;null!==e;){var t=e;switch(t.tag){case 2:Lt(t);break;case 3:lr(t),Ct(t);break;case 5:ur(t);break;case 4:lr(t);break;case 13:ar(t)}e=e.return}Qo=null,Jo=0,Zo=-1,es=!1,$o=null,ns=!1}function Kr(e){for(;;){var t=e.alternate,r=e.return,n=e.sibling;if(0===(512&e.effectTag)){t=Pr(t,e,Jo);var i=e;if(1073741823===Jo||1073741823!==i.expirationTime){var a=0;switch(i.tag){case 3:case 2:var o=i.updateQueue;null!==o&&(a=o.expirationTime)}for(o=i.child;null!==o;)0!==o.expirationTime&&(0===a||a>o.expirationTime)&&(a=o.expirationTime),o=o.sibling;i.expirationTime=a}if(null!==t)return t;if(null!==r&&0===(512&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e)),null!==n)return n;if(null===r){ns=!0;break}e=r}else{if(null!==(e=Vr(e,es,Jo)))return e.effectTag&=511,e;if(null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=512),null!==n)return n;if(null===r)break;e=r}}return null}function Yr(e){var t=xr(e.alternate,e,Jo);return null===t&&(t=Kr(e)),Ui.current=null,t}function qr(e,t,r){Xo&&n("243"),Xo=!0,t===Jo&&e===Qo&&null!==$o||(Wr(),Qo=e,Jo=t,Zo=-1,$o=Mt(Qo.current,null,Jo),e.pendingCommitExpirationTime=0);var i=!1;for(es=!r||Jo<=Wo;;){try{if(r)for(;null!==$o&&!hn();)$o=Yr($o);else for(;null!==$o;)$o=Yr($o)}catch(t){if(null===$o)i=!0,pn(t);else{null===$o&&n("271"),r=$o;var a=r.return;if(null===a){i=!0,pn(t);break}zr(e,a,r,t,es,Jo,Ko),$o=Kr(r)}}break}if(Xo=!1,i)return null;if(null===$o){if(ns)return e.pendingCommitExpirationTime=t,e.current.alternate;es&&n("262"),0<=Zo&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&nn(e,t)},Zo),vn(e.current.expirationTime)}return null}function Xr(e,t){var r;e:{for(Xo&&!rs&&n("263"),r=e.return;null!==r;){switch(r.tag){case 2:var i=r.stateNode;if("function"===typeof r.type.getDerivedStateFromCatch||"function"===typeof i.componentDidCatch&&(null===is||!is.has(i))){e=nr(t,e),e=Hr(r,e,1),$t(r,e,1),Jr(r,1),r=void 0;break e}break;case 3:e=nr(t,e),e=jr(r,e,1),$t(r,e,1),Jr(r,1),r=void 0;break e}r=r.return}3===e.tag&&(r=nr(t,e),r=jr(e,r,1),$t(e,r,1),Jr(e,1)),r=void 0}return r}function $r(){var e=2+25*(1+((Zr()-2+500)/25|0));return e<=Yo&&(e=Yo+1),Yo=e}function Qr(e,t){return e=0!==qo?qo:Xo?rs?1:Jo:1&t.mode?bs?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,bs&&(0===ds||e>ds)&&(ds=e),e}function Jr(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var r=e.stateNode;!Xo&&0!==Jo&&t<Jo&&Wr();var i=r.current.expirationTime;Xo&&!rs&&Qo===r||nn(r,i),ks>_s&&n("185")}e=e.return}}function Zr(){return Ko=go()-Vo,Wo=2+(Ko/10|0)}function en(e){var t=qo;qo=2+25*(1+((Zr()-2+500)/25|0));try{return e()}finally{qo=t}}function tn(e,t,r,n,i){var a=qo;qo=1;try{return e(t,r,n,i)}finally{qo=a}}function rn(e){if(0!==ss){if(e>ss)return;mo(ls)}var t=go()-Vo;ss=e,ls=yo(on,{timeout:10*(e-2)-t})}function nn(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===os?(as=os=e,e.nextScheduledRoot=e):(os=os.nextScheduledRoot=e,os.nextScheduledRoot=as);else{var r=e.remainingExpirationTime;(0===r||t<r)&&(e.remainingExpirationTime=t)}us||(ys?ms&&(cs=e,fs=1,fn(e,1,!1)):1===t?sn():rn(t))}function an(){var e=0,t=null;if(null!==os)for(var r=os,i=as;null!==i;){var a=i.remainingExpirationTime;if(0===a){if((null===r||null===os)&&n("244"),i===i.nextScheduledRoot){as=os=i.nextScheduledRoot=null;break}if(i===as)as=a=i.nextScheduledRoot,os.nextScheduledRoot=a,i.nextScheduledRoot=null;else{if(i===os){os=r,os.nextScheduledRoot=as,i.nextScheduledRoot=null;break}r.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=r.nextScheduledRoot}else{if((0===e||a<e)&&(e=a,t=i),i===os)break;r=i,i=i.nextScheduledRoot}}r=cs,null!==r&&r===t&&1===e?ks++:ks=0,cs=t,fs=e}function on(e){ln(0,!0,e)}function sn(){ln(1,!1,null)}function ln(e,t,r){if(gs=r,an(),t)for(;null!==cs&&0!==fs&&(0===e||e>=fs)&&(!hs||Zr()>=fs);)Zr(),fn(cs,fs,!hs),an();else for(;null!==cs&&0!==fs&&(0===e||e>=fs);)fn(cs,fs,!1),an();null!==gs&&(ss=0,ls=-1),0!==fs&&rn(fs),gs=null,hs=!1,cn()}function un(e,t){us&&n("253"),cs=e,fs=t,fn(e,t,!1),sn(),cn()}function cn(){if(ks=0,null!==Es){var e=Es;Es=null;for(var t=0;t<e.length;t++){var r=e[t];try{r._onComplete()}catch(e){ps||(ps=!0,vs=e)}}}if(ps)throw e=vs,vs=null,ps=!1,e}function fn(e,t,r){us&&n("245"),us=!0,r?(r=e.finishedWork,null!==r?dn(e,r,t):(e.finishedWork=null,null!==(r=qr(e,t,!0))&&(hn()?e.finishedWork=r:dn(e,r,t)))):(r=e.finishedWork,null!==r?dn(e,r,t):(e.finishedWork=null,null!==(r=qr(e,t,!1))&&dn(e,r,t))),us=!1}function dn(e,t,r){var i=e.firstBatch;if(null!==i&&i._expirationTime<=r&&(null===Es?Es=[i]:Es.push(i),i._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,rs=Xo=!0,r=t.stateNode,r.current===t&&n("177"),i=r.pendingCommitExpirationTime,0===i&&n("261"),r.pendingCommitExpirationTime=0,Zr(),Ui.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var a=t.firstEffect}else a=t;else a=t.firstEffect;po=La;var o=Un();if(Xe(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{var l=window.getSelection&&window.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var u=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{s.nodeType,c.nodeType}catch(e){s=null;break e}var f=0,d=-1,h=-1,p=0,v=0,g=o,y=null;t:for(;;){for(var m;g!==s||0!==u&&3!==g.nodeType||(d=f+u),g!==c||0!==l&&3!==g.nodeType||(h=f+l),3===g.nodeType&&(f+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===o)break t;if(y===s&&++p===u&&(d=f),y===c&&++v===l&&(h=f),null!==(m=g.nextSibling))break;g=y,y=g.parentNode}g=m}s=-1===d||-1===h?null:{start:d,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;for(vo={focusedElem:o,selectionRange:s},je(!1),ts=a;null!==ts;){o=!1,s=void 0;try{for(;null!==ts;){if(256&ts.effectTag){var b=ts.alternate;switch(u=ts,u.tag){case 2:if(256&u.effectTag&&null!==b){var E=b.memoizedProps,_=b.memoizedState,k=u.stateNode;k.props=u.memoizedProps,k.state=u.memoizedState;var w=k.getSnapshotBeforeUpdate(E,_);k.__reactInternalSnapshotBeforeUpdate=w}break;case 3:case 5:case 6:case 4:break;default:n("163")}}ts=ts.nextEffect}}catch(e){o=!0,s=e}o&&(null===ts&&n("178"),Xr(ts,s),null!==ts&&(ts=ts.nextEffect))}for(ts=a;null!==ts;){b=!1,E=void 0;try{for(;null!==ts;){var T=ts.effectTag;if(16&T&&st(ts.stateNode,""),128&T){var R=ts.alternate;if(null!==R){var S=R.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(14&T){case 2:Ur(ts),ts.effectTag&=-3;break;case 6:Ur(ts),ts.effectTag&=-3,Gr(ts.alternate,ts);break;case 4:Gr(ts.alternate,ts);break;case 8:_=ts,Br(_),_.return=null,_.child=null,_.alternate&&(_.alternate.child=null,_.alternate.return=null)}ts=ts.nextEffect}}catch(e){b=!0,E=e}b&&(null===ts&&n("178"),Xr(ts,E),null!==ts&&(ts=ts.nextEffect))}if(S=vo,R=Un(),T=S.focusedElem,b=S.selectionRange,R!==T&&Gn(document.documentElement,T)){Xe(T)&&(R=b.start,S=b.end,void 0===S&&(S=R),"selectionStart"in T?(T.selectionStart=R,T.selectionEnd=Math.min(S,T.value.length)):window.getSelection&&(R=window.getSelection(),E=T[P()].length,S=Math.min(b.start,E),b=void 0===b.end?S:Math.min(b.end,E),!R.extend&&S>b&&(E=b,b=S,S=E),E=qe(T,S),_=qe(T,b),E&&_&&(1!==R.rangeCount||R.anchorNode!==E.node||R.anchorOffset!==E.offset||R.focusNode!==_.node||R.focusOffset!==_.offset)&&(k=document.createRange(),k.setStart(E.node,E.offset),R.removeAllRanges(),S>b?(R.addRange(k),R.extend(_.node,_.offset)):(k.setEnd(_.node,_.offset),R.addRange(k))))),R=[];for(S=T;S=S.parentNode;)1===S.nodeType&&R.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(T.focus(),T=0;T<R.length;T++)S=R[T],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}for(vo=null,je(po),po=null,r.current=t,ts=a;null!==ts;){a=!1,T=void 0;try{for(R=i;null!==ts;){var A=ts.effectTag;if(36&A){var O=ts.alternate;switch(S=ts,b=R,S.tag){case 2:var L=S.stateNode;if(4&S.effectTag)if(null===O)L.props=S.memoizedProps,L.state=S.memoizedState,L.componentDidMount();else{var C=O.memoizedProps,x=O.memoizedState;L.props=S.memoizedProps,L.state=S.memoizedState,L.componentDidUpdate(C,x,L.__reactInternalSnapshotBeforeUpdate)}var D=S.updateQueue;null!==D&&(L.props=S.memoizedProps,L.state=S.memoizedState,rr(S,D,L,b));break;case 3:var I=S.updateQueue;if(null!==I){if(E=null,null!==S.child)switch(S.child.tag){case 5:E=S.child.stateNode;break;case 2:E=S.child.stateNode}rr(S,I,E,b)}break;case 5:var N=S.stateNode;null===O&&4&S.effectTag&&bt(S.type,S.memoizedProps)&&N.focus();break;case 6:case 4:case 15:case 16:break;default:n("163")}}if(128&A){S=void 0;var M=ts.ref;if(null!==M){var F=ts.stateNode;switch(ts.tag){case 5:S=F;break;default:S=F}"function"===typeof M?M(S):M.current=S}}var U=ts.nextEffect;ts.nextEffect=null,ts=U}}catch(e){a=!0,T=e}a&&(null===ts&&n("178"),Xr(ts,T),null!==ts&&(ts=ts.nextEffect))}Xo=rs=!1,"function"===typeof Vt&&Vt(t.stateNode),t=r.current.expirationTime,0===t&&(is=null),e.remainingExpirationTime=t}function hn(){return!(null===gs||gs.timeRemaining()>ws)&&(hs=!0)}function pn(e){null===cs&&n("246"),cs.remainingExpirationTime=0,ps||(ps=!0,vs=e)}function vn(e){null===cs&&n("246"),cs.remainingExpirationTime=e}function gn(e,t){var r=ys;ys=!0;try{return e(t)}finally{(ys=r)||us||sn()}}function yn(e,t){if(ys&&!ms){ms=!0;try{return e(t)}finally{ms=!1}}return e(t)}function mn(e,t){us&&n("187");var r=ys;ys=!0;try{return tn(e,t)}finally{ys=r,sn()}}function bn(e){var t=ys;ys=!0;try{tn(e)}finally{(ys=t)||us||ln(1,!1,null)}}function En(e,t,r,i,a){var o=t.current;if(r){r=r._reactInternalFiber;var s;e:{for(2===Pe(r)&&2===r.tag||n("170"),s=r;3!==s.tag;){if(Ot(s)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}(s=s.return)||n("171")}s=s.stateNode.context}r=Ot(r)?Dt(r,s):s}else r=jn;return null===t.context?t.context=r:t.pendingContext=r,t=a,a=qt(i),a.payload={element:e},t=void 0===t?null:t,null!==t&&(a.callback=t),$t(o,a,i),Jr(o,i),i}function _n(e){var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?n("188"):n("268",Object.keys(e))),e=Me(t),null===e?null:e.stateNode}function kn(e,t,r,n){var i=t.current;return i=Qr(Zr(),i),En(e,t,r,i,n)}function wn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Tn(e){var t=e.findFiberByHostInstance;return zt(Mn({},e,{findHostInstanceByFiber:function(e){return e=Me(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}function Rn(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ji,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Sn(e){this._expirationTime=$r(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function An(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function On(e,t,r){this._internalRoot=jt(e,t,r)}function Ln(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Cn(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new On(e,!1,t)}function xn(e,t,r,i,a){Ln(r)||n("200");var o=r._reactRootContainer;if(o){if("function"===typeof a){var s=a;a=function(){var e=wn(o._internalRoot);s.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,a):o.render(t,a)}else{if(o=r._reactRootContainer=Cn(r,i),"function"===typeof a){var l=a;a=function(){var e=wn(o._internalRoot);l.call(e)}}yn(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,a):o.render(t,a)})}return wn(o._internalRoot)}function Dn(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ln(t)||n("200"),Rn(e,t,null,r)}var Pn=r(3),In=r(0),Nn=r(17),Mn=r(1),Fn=r(5),Un=r(18),Bn=r(19),Gn=r(20),jn=r(4);In||n("227");var Hn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,r,n,a,o,s,l,u){i.apply(Hn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,r,n,i,a,o,s,l){if(Hn.invokeGuardedCallback.apply(this,arguments),Hn.hasCaughtError()){var u=Hn.clearCaughtError();Hn._hasRethrowError||(Hn._hasRethrowError=!0,Hn._rethrowError=u)}},rethrowCaughtError:function(){return a.apply(Hn,arguments)},hasCaughtError:function(){return Hn._hasCaughtError},clearCaughtError:function(){if(Hn._hasCaughtError){var e=Hn._caughtError;return Hn._caughtError=null,Hn._hasCaughtError=!1,e}n("198")}},zn=null,Vn={},Wn=[],Kn={},Yn={},qn={},Xn={plugins:Wn,eventNameDispatchConfigs:Kn,registrationNameModules:Yn,registrationNameDependencies:qn,possibleRegistrationNames:null,injectEventPluginOrder:l,injectEventPluginsByName:u},$n=null,Qn=null,Jn=null,Zn=null,ei={injectEventPluginOrder:l,injectEventPluginsByName:u},ti={injection:ei,getListener:g,runEventsInBatch:y,runExtractedEventsInBatch:m},ri=Math.random().toString(36).slice(2),ni="__reactInternalInstance$"+ri,ii="__reactEventHandlers$"+ri,ai={precacheFiberNode:function(e,t){t[ni]=e},getClosestInstanceFromNode:b,getInstanceFromNode:function(e){return e=e[ni],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:E,getFiberCurrentPropsFromNode:_,updateFiberProps:function(e,t){e[ii]=t}},oi={accumulateTwoPhaseDispatches:L,accumulateTwoPhaseDispatchesSkipTarget:function(e){d(e,S)},accumulateEnterLeaveDispatches:C,accumulateDirectDispatches:function(e){d(e,O)}},si={animationend:x("Animation","AnimationEnd"),animationiteration:x("Animation","AnimationIteration"),animationstart:x("Animation","AnimationStart"),transitionend:x("Transition","TransitionEnd")},li={},ui={};Nn.canUseDOM&&(ui=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);var ci=D("animationend"),fi=D("animationiteration"),di=D("animationstart"),hi=D("transitionend"),pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vi=null,gi={_root:null,_startText:null,_fallbackText:null},yi="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),mi={type:null,target:null,currentTarget:Fn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Mn(M.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Fn.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Fn.thatReturnsTrue)},persist:function(){this.isPersistent=Fn.thatReturnsTrue},isPersistent:Fn.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<yi.length;t++)this[yi[t]]=null}}),M.Interface=mi,M.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var i=new t;return Mn(i,r.prototype),r.prototype=i,r.prototype.constructor=r,r.Interface=Mn({},n.Interface,e),r.extend=n.extend,B(r),r},B(M);var bi=M.extend({data:null}),Ei=M.extend({data:null}),_i=[9,13,27,32],ki=Nn.canUseDOM&&"CompositionEvent"in window,wi=null;Nn.canUseDOM&&"documentMode"in document&&(wi=document.documentMode);var Ti=Nn.canUseDOM&&"TextEvent"in window&&!wi,Ri=Nn.canUseDOM&&(!ki||wi&&8<wi&&11>=wi),Si=String.fromCharCode(32),Ai={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Oi=!1,Li=!1,Ci={eventTypes:Ai,extractEvents:function(e,t,r,n){var i=void 0,a=void 0;if(ki)e:{switch(e){case"compositionstart":i=Ai.compositionStart;break e;case"compositionend":i=Ai.compositionEnd;break e;case"compositionupdate":i=Ai.compositionUpdate;break e}i=void 0}else Li?G(e,r)&&(i=Ai.compositionEnd):"keydown"===e&&229===r.keyCode&&(i=Ai.compositionStart);return i?(Ri&&(Li||i!==Ai.compositionStart?i===Ai.compositionEnd&&Li&&(a=I()):(gi._root=n,gi._startText=N(),Li=!0)),i=bi.getPooled(i,t,r,n),a?i.data=a:null!==(a=j(r))&&(i.data=a),L(i),a=i):a=null,(e=Ti?H(e,r):z(e,r))?(t=Ei.getPooled(Ai.beforeInput,t,r,n),t.data=e,L(t)):t=null,null===a?t:null===t?a:[a,t]}},xi=null,Di={injectFiberControlledHostComponent:function(e){xi=e}},Pi=null,Ii=null,Ni={injection:Di,enqueueStateRestore:W,needsStateRestore:K,restoreStateIfNeeded:Y},Mi=!1,Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ui=In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bi="function"===typeof Symbol&&Symbol.for,Gi=Bi?Symbol.for("react.element"):60103,ji=Bi?Symbol.for("react.portal"):60106,Hi=Bi?Symbol.for("react.fragment"):60107,zi=Bi?Symbol.for("react.strict_mode"):60108,Vi=Bi?Symbol.for("react.profiler"):60114,Wi=Bi?Symbol.for("react.provider"):60109,Ki=Bi?Symbol.for("react.context"):60110,Yi=Bi?Symbol.for("react.async_mode"):60111,qi=Bi?Symbol.for("react.forward_ref"):60112,Xi=Bi?Symbol.for("react.timeout"):60113,$i="function"===typeof Symbol&&Symbol.iterator,Qi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ji={},Zi={},ea={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ea[e]=new fe(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ea[t]=new fe(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ea[e]=new fe(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){ea[e]=new fe(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ea[e]=new fe(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ea[e]=new fe(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){ea[e]=new fe(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){ea[e]=new fe(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){ea[e]=new fe(e,5,!1,e.toLowerCase(),null)});var ta=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ta,de);ea[t]=new fe(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ta,de);ea[t]=new fe(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ta,de);ea[t]=new fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),ea.tabIndex=new fe("tabIndex",1,!1,"tabindex",null);var ra={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},na=null,ia=null,aa=!1;Nn.canUseDOM&&(aa=ee("input")&&(!document.documentMode||9<document.documentMode));var oa={eventTypes:ra,_isInputEventSupported:aa,extractEvents:function(e,t,r,n){var i=t?E(t):window,a=void 0,o=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?a=Te:J(i)?aa?a=Ce:(a=Oe,o=Ae):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Le),a&&(a=a(e,t)))return _e(a,r,n);o&&o(e,i,t),"blur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&be(i,"number",i.value)}},sa=M.extend({view:null,detail:null}),la={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ua=sa.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:De,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),ca=ua.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),fa={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},da={eventTypes:fa,extractEvents:function(e,t,r,n){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&(r.relatedTarget||r.fromElement)||!a&&!i)return null;if(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,t=(t=r.relatedTarget||r.toElement)?b(t):null):a=null,a===t)return null;var o=void 0,s=void 0,l=void 0,u=void 0;return"mouseout"===e||"mouseover"===e?(o=ua,s=fa.mouseLeave,l=fa.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=ca,s=fa.pointerLeave,l=fa.pointerEnter,u="pointer"),e=null==a?i:E(a),i=null==t?i:E(t),s=o.getPooled(s,a,r,n),s.type=u+"leave",s.target=e,s.relatedTarget=i,r=o.getPooled(l,t,r,n),r.type=u+"enter",r.target=i,r.relatedTarget=e,C(s,r,a,t),[s,r]}},ha=M.extend({animationName:null,elapsedTime:null,pseudoElement:null}),pa=M.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),va=sa.extend({relatedTarget:null}),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ma=sa.extend({key:function(e){if(e.key){var t=ga[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Ue(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?ya[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:De,charCode:function(e){return"keypress"===e.type?Ue(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ue(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ba=ua.extend({dataTransfer:null}),Ea=sa.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:De}),_a=M.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ka=ua.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),wa=[["abort","abort"],[ci,"animationEnd"],[fi,"animationIteration"],[di,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[hi,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Ta={},Ra={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Be(e,!0)}),wa.forEach(function(e){Be(e,!1)});var Sa={eventTypes:Ta,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Ra[e])&&!0===e.isInteractive},extractEvents:function(e,t,r,n){var i=Ra[e];if(!i)return null;switch(e){case"keypress":if(0===Ue(r))return null;case"keydown":case"keyup":e=ma;break;case"blur":case"focus":e=va;break;case"click":if(2===r.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ba;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Ea;break;case ci:case fi:case di:e=ha;break;case hi:e=_a;break;case"scroll":e=sa;break;case"wheel":e=ka;break;case"copy":case"cut":case"paste":e=pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ca;break;default:e=M}return t=e.getPooled(i,t,r,n),L(t),t}},Aa=Sa.isInteractiveTopLevelEventType,Oa=[],La=!0,Ca={get _enabled(){return La},setEnabled:je,isEnabled:function(){return La},trapBubbledEvent:He,trapCapturedEvent:ze,dispatchEvent:We},xa={},Da=0,Pa="_reactListenersID"+(""+Math.random()).slice(2),Ia=Nn.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Na={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ma=null,Fa=null,Ua=null,Ba=!1,Ga={eventTypes:Na,extractEvents:function(e,t,r,n){var i,a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!a)){e:{a=Ke(a),i=qn.onSelect;for(var o=0;o<i.length;o++){var s=i[o];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break e}}a=!0}i=!a}if(i)return null;switch(a=t?E(t):window,e){case"focus":(J(a)||"true"===a.contentEditable)&&(Ma=a,Fa=t,Ua=null);break;case"blur":Ua=Fa=Ma=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":return Ba=!1,$e(r,n);case"selectionchange":if(Ia)break;case"keydown":case"keyup":return $e(r,n)}return null}};ei.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),$n=ai.getFiberCurrentPropsFromNode,Qn=ai.getInstanceFromNode,Jn=ai.getNodeFromInstance,ei.injectEventPluginsByName({SimpleEventPlugin:Sa,EnterLeaveEventPlugin:da,ChangeEventPlugin:oa,SelectEventPlugin:Ga,BeforeInputEventPlugin:Ci});var ja=void 0;ja="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};var Ha=void 0,za=void 0;if(Nn.canUseDOM){var Va=[],Wa=0,Ka={},Ya=-1,qa=!1,Xa=!1,$a=0,Qa=33,Ja=33,Za={didTimeout:!1,timeRemaining:function(){var e=$a-ja();return 0<e?e:0}},eo=function(e,t){if(Ka[t])try{e(Za)}finally{delete Ka[t]}},to="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===to&&(qa=!1,0!==Va.length)){if(0!==Va.length&&(e=ja(),!(-1===Ya||Ya>e))){Ya=-1,Za.didTimeout=!0;for(var t=0,r=Va.length;t<r;t++){var n=Va[t],i=n.timeoutTime;-1!==i&&i<=e?eo(n.scheduledCallback,n.callbackId):-1!==i&&(-1===Ya||i<Ya)&&(Ya=i)}}for(e=ja();0<$a-e&&0<Va.length;)e=Va.shift(),Za.didTimeout=!1,eo(e.scheduledCallback,e.callbackId),e=ja();0<Va.length&&!Xa&&(Xa=!0,requestAnimationFrame(ro))}},!1);var ro=function(e){Xa=!1;var t=e-$a+Ja;t<Ja&&Qa<Ja?(8>t&&(t=8),Ja=t<Qa?Qa:t):Qa=t,$a=e+Ja,qa||(qa=!0,window.postMessage(to,"*"))};Ha=function(e,t){var r=-1;return null!=t&&"number"===typeof t.timeout&&(r=ja()+t.timeout),(-1===Ya||-1!==r&&r<Ya)&&(Ya=r),Wa++,t=Wa,Va.push({scheduledCallback:e,callbackId:t,timeoutTime:r}),Ka[t]=!0,Xa||(Xa=!0,requestAnimationFrame(ro)),t},za=function(e){delete Ka[e]}}else{var no=0,io={};Ha=function(e){var t=no++,r=setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return io[t]=r,t},za=function(e){var t=io[e];delete io[e],clearTimeout(t)}}var ao={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},oo=void 0,so=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r)})}:e}(function(e,t){if(e.namespaceURI!==ao.svg||"innerHTML"in e)e.innerHTML=t;else{for(oo=oo||document.createElement("div"),oo.innerHTML="<svg>"+t+"</svg>",t=oo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),lo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uo=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(e){uo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lo[t]=lo[e]})});var co=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),fo=Fn.thatReturns(""),ho={createElement:dt,createTextNode:ht,setInitialProperties:pt,diffProperties:vt,updateProperties:gt,diffHydratedProperties:yt,diffHydratedText:mt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,r){switch(t){case"input":if(ye(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var a=_(i);a||n("90"),ie(i),ye(i,a)}}}break;case"textarea":nt(e,r);break;case"select":null!=(t=r.value)&&Ze(e,!!r.multiple,t,!1)}}},po=null,vo=null,go=ja,yo=Ha,mo=za;new Set;var bo=[],Eo=-1,_o=wt(jn),ko=wt(!1),wo=jn,To=null,Ro=null,So=!1,Ao=wt(null),Oo=wt(null),Lo=wt(0),Co={},xo=wt(Co),Do=wt(Co),Po=wt(Co),Io={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Pe(e)},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=Zr();n=Qr(n,e);var i=qt(n);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),$t(e,i,n),Jr(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=Zr();n=Qr(n,e);var i=qt(n);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),$t(e,i,n),Jr(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=Zr();r=Qr(r,e);var n=qt(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),$t(e,n,r),Jr(e,r)}},No=Array.isArray,Mo=gr(!0),Fo=gr(!1),Uo=null,Bo=null,Go=!1,jo=void 0,Ho=void 0,zo=void 0;jo=function(){},Ho=function(e,t,r){(t.updateQueue=r)&&Dr(t)},zo=function(e,t,r,n){r!==n&&Dr(t)};var Vo=go(),Wo=2,Ko=Vo,Yo=0,qo=0,Xo=!1,$o=null,Qo=null,Jo=0,Zo=-1,es=!1,ts=null,rs=!1,ns=!1,is=null,as=null,os=null,ss=0,ls=-1,us=!1,cs=null,fs=0,ds=0,hs=!1,ps=!1,vs=null,gs=null,ys=!1,ms=!1,bs=!1,Es=null,_s=1e3,ks=0,ws=1,Ts={updateContainerAtExpirationTime:En,createContainer:function(e,t,r){return jt(e,t,r)},updateContainer:kn,flushRoot:un,requestWork:nn,computeUniqueAsyncExpiration:$r,batchedUpdates:gn,unbatchedUpdates:yn,deferredUpdates:en,syncUpdates:tn,interactiveUpdates:function(e,t,r){if(bs)return e(t,r);ys||us||0===ds||(ln(ds,!1,null),ds=0);var n=bs,i=ys;ys=bs=!0;try{return e(t,r)}finally{bs=n,(ys=i)||us||sn()}},flushInteractiveUpdates:function(){us||0===ds||(ln(ds,!1,null),ds=0)},flushControlled:bn,flushSync:mn,getPublicRootInstance:wn,findHostInstance:_n,findHostInstanceWithNoPortals:function(e){return e=Fe(e),null===e?null:e.stateNode},injectIntoDevTools:Tn};Di.injectFiberControlledHostComponent(ho),Sn.prototype.render=function(e){this._defer||n("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,r=this._expirationTime,i=new An;return En(e,t,null,r,i._onCommit),i},Sn.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Sn.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||n("251"),this._hasChildren){var r=this._expirationTime;if(t!==this){this._hasChildren&&(r=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,a=t;a!==this;)i=a,a=a._next;null===i&&n("251"),i._next=a._next,this._next=t,e.firstBatch=this}this._defer=!1,un(e,r),t=this._next,this._next=null,t=e.firstBatch=t,null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Sn.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},An.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},An.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var r=e[t];"function"!==typeof r&&n("191",r),r()}}},On.prototype.render=function(e,t){var r=this._internalRoot,n=new An;return t=void 0===t?null:t,null!==t&&n.then(t),kn(e,r,null,n._onCommit),n},On.prototype.unmount=function(e){var t=this._internalRoot,r=new An;return e=void 0===e?null:e,null!==e&&r.then(e),kn(null,t,null,r._onCommit),r},On.prototype.legacy_renderSubtreeIntoContainer=function(e,t,r){var n=this._internalRoot,i=new An;return r=void 0===r?null:r,null!==r&&i.then(r),kn(t,n,e,i._onCommit),i},On.prototype.createBatch=function(){var e=new Sn(this),t=e._expirationTime,r=this._internalRoot,n=r.firstBatch;if(null===n)r.firstBatch=e,e._next=null;else{for(r=null;null!==n&&n._expirationTime<=t;)r=n,n=n._next;e._next=n,null!==r&&(r._next=e)}return e},q=Ts.batchedUpdates,X=Ts.interactiveUpdates,$=Ts.flushInteractiveUpdates;var Rs={createPortal:Dn,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:_n(e)},hydrate:function(e,t,r){return xn(null,e,t,!0,r)},render:function(e,t,r){return xn(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,i){return(null==e||void 0===e._reactInternalFiber)&&n("38"),xn(e,t,r,!1,i)},unmountComponentAtNode:function(e){return Ln(e)||n("40"),!!e._reactRootContainer&&(yn(function(){xn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Dn.apply(void 0,arguments)},unstable_batchedUpdates:gn,unstable_deferredUpdates:en,flushSync:mn,unstable_flushControlled:bn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:ti,EventPluginRegistry:Xn,EventPropagators:oi,ReactControlledComponent:Ni,ReactDOMComponentTree:ai,ReactDOMEventListener:Ca},unstable_createRoot:function(e,t){return new On(e,!0,null!=t&&!0===t.hydrate)}};Tn({findFiberByHostInstance:b,bundleType:0,version:"16.4.0",rendererPackageName:"react-dom"});var Ss={default:Rs},As=Ss&&Rs||Ss;e.exports=As.default?As.default:As},function(e,t,r){"use strict";var n=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=i},function(e,t,r){"use strict";function n(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},function(e,t,r){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function i(e,t){if(n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!a.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}var a=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,r){"use strict";function n(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=r(21);e.exports=n},function(e,t,r){"use strict";function n(e){return i(e)&&3==e.nodeType}var i=r(22);e.exports=n},function(e,t,r){"use strict";function n(e){var t=e?e.ownerDocument||e:document,r=t.defaultView||window;return!(!e||!("function"===typeof r.Node?e instanceof r.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(0),s=r.n(o),l=r(24),u=r.n(l),c=r(25),f=r(26),d=(r.n(f),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),h=function(e){function t(){return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),d(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"spot",id:this.props.name},s.a.createElement("h1",null,this.props.name),s.a.createElement(u.a,{url:this.props.url}),s.a.createElement(c.a,{spotId:this.props.spotId}))}}]),t}(s.a.Component);t.a=h},function(e,t,r){!function(t,n){e.exports=n(r(0))}(0,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=32)}({0:function(e,t,r){"use strict";function n(e,t,r,n,a,o,s,l){if(i(t),!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,a,o,s,l],f=0;u=Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=n},17:function(t,r){t.exports=e},24:function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},30:function(e,t,r){var n,n;!function(t){e.exports=function(){var e;return function e(t,r,i){function a(s,l){if(!r[s]){if(!t[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(o)return o(s,!0);var c=Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return a(r||e)},f,f.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof n&&n,s=0;i.length>s;s++)a(i[s]);return a}({1:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!a(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,a,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(r=this._events[e],s(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(o(r))for(a=Array.prototype.slice.call(arguments,1),u=r.slice(),n=u.length,l=0;n>l;l++)u[l].apply(this,a);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],i(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(t,r,n){!function(t){var i={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var r=null,n=null,a=/^([^#]*)(.*)$/.exec(t);a&&(n=a[2],t=a[1]);var o=/^([^\?]*)(.*)$/.exec(t);o&&(r=o[2],t=o[1]);var s=/^([^#]*)(.*)$/.exec(e);s&&(e=s[1]);var l=/^([^\?]*)(.*)$/.exec(e);l&&(e=l[1]);var u=/^(([a-z]+:)?\/\/[a-z0-9\.\-_~]+(:[0-9]+)?)?(\/.*)$/i.exec(e);if(!u)throw Error("Error trying to parse base URL.");var c=u[2]||"",f=u[1]||"",d=u[4],h=null;return h=/^\/\//.test(t)?c+"//"+i.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?f+"/"+i.buildAbsolutePath("",t.substring(1)):i.buildAbsolutePath(f+d,t),r&&(h+=r),n&&(h+=n),h},buildAbsolutePath:function(e,t){for(var r,n,i=t,a="",o=e.replace(/[^\/]*$/,i.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),s=0;(n=o.indexOf("/../",s))>-1;s=n+r)r=/^\/(?:\.\.\/)*/.exec(o.slice(n))[0].length,a=(a+o.substring(s,n)).replace(RegExp("(?:\\/+[^\\/]*){0,"+(r-1)/3+"}$"),"/");return a+o.substr(s)}};"object"==typeof n&&"object"==typeof r?r.exports=i:"function"==typeof e&&e.amd?e([],function(){return i}):"object"==typeof n?n.URLToolkit=i:t.URLToolkit=i}(this)},{}],3:[function(e,t,r){var n=arguments[3],i=arguments[4],a=arguments[5],o=JSON.stringify;t.exports=function(e,t){function r(e){g[e]=!0;for(var t in i[e][1]){var n=i[e][1][t];g[n]||r(n)}}for(var s,l=Object.keys(a),u=0,c=l.length;c>u;u++){var f=l[u],d=a[f].exports;if(d===e||d&&d.default===e){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},u=0,c=l.length;c>u;u++){var f=l[u];h[f]=f}i[s]=[Function(["require","module","exports"],"("+e+")(self)"),h]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),v={};v[s]=s,i[p]=[Function(["require"],"var f = require("+o(s)+");(f.default ? f.default : f)(self);"),v];var g={};r(p);var y="("+n+")({"+Object.keys(g).map(function(e){return o(e)+":["+i[e][0]+","+o(i[e][1])+"]"}).join(",")+"},{},["+o(p)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([y],{type:"text/javascript"});if(t&&t.bare)return b;var E=m.createObjectURL(b),_=new Worker(E);return _.objectURL=E,_}},{}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(28),u=n(l),c=e(27),f=n(c),d=e(30),h=n(d),p=e(26),v=e(45),g=e(9),y=n(g),m=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING,u.default.FRAG_LOADED,u.default.FRAG_BUFFERED,u.default.ERROR));return r.lastLoadedFragLevel=0,r._autoLevelCapping=-1,r._nextAutoLevel=-1,r.hls=e,r.onCheck=r.abandonRulesCheck.bind(r),r}return o(t,e),s(t,[{key:"destroy",value:function(){this.clearTimer(),f.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var r=this.hls,n=e.frag.level,i=r.levels[n].details.live,a=r.config,o=void 0,s=void 0;i?(o=a.abrEwmaFastLive,s=a.abrEwmaSlowLive):(o=a.abrEwmaFastVoD,s=a.abrEwmaSlowVoD),this.bwEstimator=new y.default(r,s,o,a.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"abandonRulesCheck",value:function(){var e=this.hls,t=e.media,r=this.fragCurrent,n=r.loader,i=this.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return v.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var a=n.stats;if(t&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var o=performance.now()-a.trequest,s=Math.abs(t.playbackRate);if(o>500*r.duration/s){var l=e.levels,c=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/o),f=a.total?a.total:Math.max(a.loaded,Math.round(r.duration*l[r.level].bitrate/8)),d=t.currentTime,p=(f-a.loaded)/c,g=(h.default.bufferInfo(t,d,e.config.maxBufferHole).end-d)/s;if(2*r.duration/s>g&&p>g){var y=void 0,m=void 0;for(m=r.level-1;m>i&&(y=r.duration*l[m].bitrate/(6.4*c),g<=y);m--);p>y&&(v.logger.warn("loading too slow, abort fragment loading and switch to level "+m+":fragLoadedDelay["+m+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+y.toFixed(1)+"<"+p.toFixed(1)+":"+g.toFixed(1)),e.nextLoadLevel=m,this.bwEstimator.sample(o,a.loaded),n.abort(),this.clearTimer(),e.trigger(u.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:a}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type&&(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,e.frag.bitrateTest)){var r=e.stats;r.tparsed=r.tbuffered=r.tload,this.onFragBuffered(e)}}},{key:"onFragBuffered",value:function(e){var t=e.stats,r=e.frag;if(!0!==t.aborted&&1===r.loadCounter&&"main"===r.type&&(!r.bitrateTest||t.tload===t.tbuffered)){var n=t.tparsed-t.trequest;v.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this.bwEstimator.sample(n,t.loaded),this.bitrateTestDelay=r.bitrateTest?n/1e3:0}}},{key:"onError",value:function(e){switch(e.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"findBestLevel",value:function(e,t,r,n,i,a,o,s,l){for(var u=i;u>=n;u--){var c=l[u],f=c.details,d=f?f.totalduration/f.fragments.length:t,h=!!f&&f.live,p=void 0;p=u>e?s*r:o*r;var g=l[u].bitrate,y=g*d/p;if(v.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(p)+"/"+g+"/"+d+"/"+a+"/"+y),p>g&&(!y||h||a>y))return u}return-1}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping=e}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator,r=this.hls,n=r.levels,i=r.config.minAutoBitrate;if(!(-1===e||t&&t.canEstimate()))return Math.min(e,this.maxAutoLevel);var a=this.nextABRAutoLevel;if(-1!==e&&(a=Math.min(e,a)),void 0!==i)for(;i>n[a].bitrate;)a++;return a},set:function(e){this._nextAutoLevel=e}},{key:"minAutoLevel",get:function(){for(var e=this.hls,t=e.levels,r=e.config.minAutoBitrate,n=t?t.length:0,i=0;n>i;i++)if(t[i].bitrate>r)return i;return 0}},{key:"maxAutoLevel",get:function(){var e=this.hls.levels,t=this._autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextABRAutoLevel",get:function(){var e=this.hls,t=this.maxAutoLevel,r=e.levels,n=e.config,i=this.minAutoLevel,a=e.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,u=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,c=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,f=(h.default.bufferInfo(a,l,n.maxBufferHole).end-l)/u,d=this.findBestLevel(o,s,c,i,t,f,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(0>d){v.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=n.maxStarvationDelay,g=n.abrBandWidthFactor,y=n.abrBandWidthUpFactor;if(0===f){var m=this.bitrateTestDelay;m&&(p=n.maxLoadingDelay-m,v.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),g=y=1)}return d=this.findBestLevel(o,s,c,i,t,f+p,g,y,r),Math.max(d,0)}return d}}]),t}(f.default);r.default=m},{26:26,27:27,28:28,30:30,45:45,9:9}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(41),u=n(l),c=e(30),f=n(c),d=e(22),h=n(d),p=e(28),v=n(p),g=e(27),y=n(g),m=e(31),b=n(m),E=e(46),_=n(E),k=e(26),w=e(45),T={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR"},R=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,v.default.MEDIA_ATTACHED,v.default.MEDIA_DETACHING,v.default.AUDIO_TRACKS_UPDATED,v.default.AUDIO_TRACK_SWITCH,v.default.AUDIO_TRACK_LOADED,v.default.KEY_LOADED,v.default.FRAG_LOADED,v.default.FRAG_PARSING_INIT_SEGMENT,v.default.FRAG_PARSING_DATA,v.default.FRAG_PARSED,v.default.ERROR,v.default.BUFFER_CREATED,v.default.BUFFER_APPENDED,v.default.BUFFER_FLUSHED));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r.ontick=r.tick.bind(r),r}return o(t,e),s(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),y.default.prototype.destroy.call(this),this.state=T.STOPPED}},{key:"startLoad",value:function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(w.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=T.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=T.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=T.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.STOPPED}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var e,t,r,n=this.hls,i=n.config;switch(this.state){case T.ERROR:case T.PAUSED:break;case T.STARTING:this.state=T.WAITING_TRACK,this.loadedmetadata=!1;break;case T.IDLE:if(!this.media&&(this.startFragRequested||!i.startFragPrefetch))break;e=this.loadedmetadata?this.media.currentTime:this.nextLoadPosition;var a=this.mediaBuffer?this.mediaBuffer:this.media,o=f.default.bufferInfo(a,e,i.maxBufferHole),s=o.len,l=o.end,c=this.fragPrevious;if(i.maxMaxBufferLength>s&&this.tracks.length>this.trackId){if(void 0===(r=this.tracks[this.trackId].details)){this.state=T.WAITING_TRACK;break}if(!r.live&&c&&c.sn===r.endSN&&(!this.media.seeking||c.duration/2>this.media.duration-l)){this.hls.trigger(v.default.BUFFER_EOS,{type:"audio"}),this.state=T.ENDED;break}var d=r.fragments,h=d.length,p=d[0].start,g=d[h-1].start+d[h-1].duration,y=void 0;if(p>l?y=d[0]:function(){var e=void 0,t=i.maxFragLookUpTolerance;g>l?(l>g-t&&(t=0),e=u.default.search(d,function(e){return e.start+e.duration-t>l?e.start-t>l?-1:0:1})):e=d[h-1],e&&(y=e,p=e.start,c&&y.level===c.level&&y.sn===c.sn&&(r.endSN>y.sn?(y=d[y.sn+1-r.startSN],w.logger.log("SN just loaded, load next one: "+y.sn)):y=null))}(),y)if(null!=y.decryptdata.uri&&null==y.decryptdata.key)w.logger.log("Loading key for "+y.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+this.trackId),this.state=T.KEY_LOADING,n.trigger(v.default.KEY_LOADING,{frag:y});else{if(w.logger.log("Loading "+y.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+this.trackId+", currentTime:"+e+",bufferEnd:"+l.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,y.loadCounter){y.loadCounter++;var m=i.fragLoadingLoopThreshold;if(y.loadCounter>m&&Math.abs(this.fragLoadIdx-y.loadIdx)<m)return void n.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:y})}else y.loadCounter=1;y.loadIdx=this.fragLoadIdx,this.fragCurrent=y,this.startFragRequested=!0,this.nextLoadPosition=y.start+y.duration,n.trigger(v.default.FRAG_LOADING,{frag:y}),this.state=T.FRAG_LOADING}}break;case T.WAITING_TRACK:(t=this.tracks[this.trackId])&&t.details&&(this.state=T.IDLE);break;case T.FRAG_LOADING_WAITING_RETRY:var b=performance.now(),E=this.retryDate;a=this.media;var _=a&&a.seeking;E&&E>b&&!_||(w.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=T.IDLE)}}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(w.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===T.ENDED&&(this.state=T.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(e){w.logger.log("audio tracks updated"),this.tracks=e.audioTracks}},{key:"onAudioTrackSwitch",value:function(e){var t=!!e.url;this.trackId=e.id,this.state=T.IDLE,this.fragCurrent=null,this.state=T.PAUSED,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.hls.trigger(v.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),this.tick()}},{key:"onAudioTrackLoaded",value:function(e){var t=e.details,r=e.id,n=this.tracks[r],i=t.totalduration;if(w.logger.log("track "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.PTSKnown=!1,n.details=t,!this.startFragRequested){if(-1===this.startPosition){var a=t.startTimeOffset;isNaN(a)?this.startPosition=0:(w.logger.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a)}this.nextLoadPosition=this.startPosition}this.state===T.WAITING_TRACK&&(this.state=T.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===T.KEY_LOADING&&(this.state=T.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent;if(this.state===T.FRAG_LOADING&&t&&"audio"===e.frag.type&&e.frag.level===t.level&&e.frag.sn===t.sn){this.state=T.PARSING,this.stats=e.stats;var r=this.tracks[this.trackId],n=r.details,i=n.totalduration,a=t.start,o=t.level,s=t.sn,l=this.config.defaultAudioCodec||r.audioCodec;this.pendingAppending=0,this.demuxer||(this.demuxer=new h.default(this.hls,"audio")),w.logger.log("Demuxing "+s+" of ["+n.startSN+" ,"+n.endSN+"],track "+o);var u=n.PTSKnown||!n.live;this.demuxer.push(e.payload,l,null,a,t.cc,o,s,i,t.decryptdata,u)}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING){var r=e.tracks,n=void 0;if(n=r.audio){n.levelCodec="mp4a.40.2",n.id=e.id,this.hls.trigger(v.default.BUFFER_CODECS,r),w.logger.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var i=n.initSegment;i&&(this.pendingAppending++,this.hls.trigger(v.default.BUFFER_APPENDING,{type:"audio",data:i,parent:"audio",content:"initSegment"})),this.tick()}}}},{key:"onFragParsingData",value:function(e){var t=this,r=this.fragCurrent;if(r&&"audio"===e.id&&e.sn===r.sn&&e.level===r.level&&this.state===T.PARSING){var n=this.tracks[this.trackId],i=this.fragCurrent;w.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),b.default.updateFragPTSDTS(n.details,i.sn,e.startPTS,e.endPTS),[e.data1,e.data2].forEach(function(r){r&&(t.pendingAppending++,t.hls.trigger(v.default.BUFFER_APPENDING,{type:e.type,data:r,parent:"audio",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING&&(this.stats.tparsed=performance.now(),this.state=T.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(e){if("audio"===e.parent)switch(this.state){case T.PARSING:case T.PARSED:this.pendingAppending--,this._checkAppendedParsed()}}},{key:"_checkAppendedParsed",value:function(){if(this.state===T.PARSED&&0===this.pendingAppending){var e=this.fragCurrent,t=this.stats;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),this.hls.trigger(v.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;w.logger.log("audio buffered : "+_.default.toString(r.buffered)),this.state=T.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case k.ErrorDetails.FRAG_LOAD_ERROR:case k.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var n=this.config;if(n.fragLoadingMaxRetry<r)w.logger.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(v.default.ERROR,e),this.state=T.ERROR;else{this.fragLoadError=r,t.loadCounter=0;var i=Math.min(Math.pow(2,r-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);w.logger.warn("audioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=T.FRAG_LOADING_WAITING_RETRY}}break;case k.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case k.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case k.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case k.ErrorDetails.KEY_LOAD_ERROR:case k.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==T.ERROR&&(this.state=e.fatal?T.ERROR:T.IDLE,w.logger.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."))}}},{key:"onBufferFlushed",value:function(){this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.IDLE,this.fragPrevious=null,this.tick()}}]),t}(y.default);r.default=R},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(28),u=n(l),c=e(27),f=n(c),d=e(45),h=function(e){function t(e){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADING,u.default.MANIFEST_LOADED,u.default.AUDIO_TRACK_LOADED))}return o(t,e),s(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,r=e.audioTracks||[],n=!1;this.tracks=r,this.hls.trigger(u.default.AUDIO_TRACKS_UPDATED,{audioTracks:r});var i=0;r.forEach(function(e){return e.default?(t.audioTrack=i,void(n=!0)):void i++}),!1===n&&r.length&&(d.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(e){this.tracks.length>e.id&&(d.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(e){if(e>=0&&this.tracks.length>e){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,d.logger.log("switching to audioTrack "+e);var t=this.tracks[e],r=t.type,n=t.url;this.hls.trigger(u.default.AUDIO_TRACK_SWITCH,{id:e,type:r,url:n});var i=t.details;!n||void 0!==i&&!0!==i.live||(d.logger.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(u.default.AUDIO_TRACK_LOADING,{url:n,id:e}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(f.default);r.default=h},{27:27,28:28,45:45}],7:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(28),u=n(l),c=e(27),f=n(c),d=e(45),h=e(26),p=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_RESET,u.default.BUFFER_APPENDING,u.default.BUFFER_CODECS,u.default.BUFFER_EOS,u.default.BUFFER_FLUSHING,u.default.LEVEL_PTS_UPDATED,u.default.LEVEL_UPDATED));return r._msDuration=null,r._levelDuration=null,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return o(t,e),s(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-e.start)>.1){var i=n.updating;try{n.abort()}catch(e){i=!0,d.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(d.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,r=e.video,n=0;e.altAudio&&(t||r)&&(n=(t?1:0)+(r?1:0),d.logger.log(n+" sourceBuffer(s) expected")),this.sourceBufferNb=n}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(r)}}},{key:"onMediaDetaching",value:function(){d.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){d.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(u.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){d.logger.log("media source opened"),this.hls.trigger(u.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;!t||this.sourceBufferNb>t&&0!==this.sourceBufferNb||(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){d.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){d.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;d.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1,this.hls.trigger(u.default.BUFFER_APPENDED,{parent:this.parent}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){d.logger.error("sourceBuffer error:"+e),this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var r=this.mediaSource;r&&"open"===r.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var n in e)if(!t[n]){var i=e[n],a=i.levelCodec||i.codec,o=i.container+";codecs="+a;d.logger.log("creating sourceBuffer("+o+")");try{var s=t[n]=r.addSourceBuffer(o);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[n]={codec:a,container:i.container},i.buffer=s}catch(e){d.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:o})}}this.hls.trigger(u.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){d.logger.error("sourceBuffer error:"+e.event),this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1,frag:this.fragCurrent})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,r=e.type;for(var n in t)r&&n!==r||t[n].ended||(t[n].ended=!0,d.logger.log(n+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var r in e){var n=e[r];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}d.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){d.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,r=this.sourceBuffer,n=this._levelDuration;if(null!==n&&e&&t&&r&&0!==e.readyState&&"open"===t.readyState){for(var i in r)if(r[i].updating)return;null===this._msDuration&&(this._msDuration=t.duration),n>this._msDuration&&n>e.duration&&(d.logger.log("Updating mediasource duration to "+n.toFixed(3)),this._msDuration=t.duration=n)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var n in r)t+=r[n].buffered.length}catch(e){d.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(u.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,r=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void d.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(r&&r.length){var n=r.shift();try{var i=n.type;t[i]?(t[i].ended=!1,this.parent=n.parent,t[i].appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){d.logger.error("error while trying to append buffer:"+t.message),r.unshift(n);var a={type:h.ErrorTypes.MEDIA_ERROR};if(22===t.code)return this.segments=[],a.details=h.ErrorDetails.BUFFER_FULL_ERROR,void e.trigger(u.default.ERROR,a);if(this.appendError?this.appendError++:this.appendError=1,a.details=h.ErrorDetails.BUFFER_APPEND_ERROR,a.frag=this.fragCurrent,this.appendError>e.config.appendErrorMaxRetry)return d.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],a.fatal=!0,void e.trigger(u.default.ERROR,a);a.fatal=!1,e.trigger(u.default.ERROR,a)}}}}},{key:"flushBuffer",value:function(e,t,r){var n,i,a,o,s,l,u=this.sourceBuffer;if(Object.keys(u).length){if(d.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime+"/"+e+"/"+t),this.appended>this.flushBufferCounter){for(var c in u)if(!r||c===r){if(n=u[c],n.ended=!1,n.updating)return d.logger.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;n.buffered.length>i;i++)if(a=n.buffered.start(i),o=n.buffered.end(i),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(s=e,l=t):(s=Math.max(a,e),l=Math.min(o,t)),Math.min(l,o)-s>.5)return this.flushBufferCounter++,d.logger.log("flush "+c+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+this.media.currentTime),n.remove(s,l),!1}catch(e){d.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else d.logger.warn("abort flushing too many retries");d.logger.log("buffer flushed")}return!0}}]),t}(f.default);r.default=p},{26:26,27:27,28:28,45:45}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(28),u=n(l),c=e(27),f=n(c),d=function(e){function t(e){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FPS_DROP_LEVEL_CAPPING,u.default.MEDIA_ATTACHING,u.default.MANIFEST_PARSED))}return o(t,e),s(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(e.droppedLevel)||this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){this.hls.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,this.hls.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;e&&(this.hls.autoLevelCapping=this.getMaxLevel(e-1),this.hls.autoLevelCapping>this.autoLevelCapping&&this.hls.streamController.nextLevelSwitch(),this.autoLevelCapping=this.hls.autoLevelCapping)}}},{key:"getMaxLevel",value:function(e){var t=0,r=void 0,n=void 0,i=this.mediaWidth,a=this.mediaHeight,o=0,s=0;for(r=0;e>=r&&(n=this.levels[r],!this.isLevelRestricted(r))&&(t=r,o=n.width,s=n.height,o<i&&s<a);r++);return t}},{key:"isLevelRestricted",value:function(e){return!(!this.restrictedLevels||-1===this.restrictedLevels.indexOf(e))}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}},{key:"mediaWidth",get:function(){var e=void 0;return this.media&&(e=this.media.width||this.media.clientWidth||this.media.offsetWidth,e*=this.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0;return this.media&&(e=this.media.height||this.media.clientHeight||this.media.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(f.default);r.default=d},{27:27,28:28}],9:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e(44),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(t,r,i,a){n(this,e),this.hls=t,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new o.default(r),this.fast_=new o.default(i)}return i(e,[{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var r=8e3*t/e,n=e/1e3;this.fast_.sample(n,r),this.slow_.sample(n,r)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();r.default=s},{44:44}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(28),u=n(l),c=e(27),f=n(c),d=e(45),h=function(e){function t(e){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING))}return o(t,e),s(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){this.hls.config.capLevelOnFPSDrop&&(this.video=e.media instanceof HTMLVideoElement?e.media:null,"function"==typeof this.video.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),this.hls.config.fpsDroppedMonitoringPeriod))}},{key:"checkFPS",value:function(e,t,r){var n=performance.now();if(t){if(this.lastTime){var i=n-this.lastTime,a=r-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*a/i;if(this.hls.trigger(u.default.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:r}),s>0&&a>this.hls.config.fpsDroppedMonitoringThreshold*o){var l=this.hls.currentLevel;d.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),0>=l||-1!==this.hls.autoLevelCapping&&l>this.hls.autoLevelCapping||(l-=1,this.hls.trigger(u.default.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:this.hls.currentLevel}),this.hls.autoLevelCapping=l,this.hls.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){if(this.video)if(this.isVideoPlaybackQualityAvailable){var e=this.video.getVideoPlaybackQuality();this.checkFPS(this.video,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(this.video,this.video.webkitDecodedFrameCount,this.video.webkitDroppedFrameCount)}}]),t}(f.default);r.default=h},{27:27,28:28,45:45}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(28),u=n(l),c=e(27),f=n(c),d=e(45),h=e(26),p=e(30),v=n(p),g=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.ERROR));return r.ontick=r.tick.bind(r),r._manualLevel=r._autoLevelCapping=-1,r}return o(t,e),s(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0,this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,r=[],n=[],i={},a=!1,o=!1,s=this.hls,l=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),c=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach(function(e){e.videoCodec&&(a=!0),l&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(o=!0);var t=i[e.bitrate];void 0===t?(i[e.bitrate]=r.length,e.url=[e.url],e.urlId=0,r.push(e)):r[t].url.push(e.url)}),a&&o?r.forEach(function(e){e.videoCodec&&n.push(e)}):n=r,n=n.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||c("audio",t))&&(!r||c("video",r))}),n.length){t=n[0].bitrate,n.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=n;for(var f=0;n.length>f;f++)if(n[f].bitrate===t){this._firstLevel=f,d.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}s.trigger(u.default.MANIFEST_PARSED,{levels:n,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:a,altAudio:e.audioTracks.length>0})}else s.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:s.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels;if(e>=0&&t.length>e){this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e&&(d.logger.log("switching to level "+e),this._level=e,this.hls.trigger(u.default.LEVEL_SWITCH,{level:e}));var r=t[e],n=r.details;if(!n||!0===n.live){var i=r.urlId;this.hls.trigger(u.default.LEVEL_LOADING,{url:r.url[i],level:e,id:i})}}else this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.OTHER_ERROR,details:h.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(!e.fatal){var t=e.details,r=this.hls,n=void 0,i=void 0,a=!1,o=r.abrController,s=o.minAutoLevel;switch(t){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:n=e.frag.level;break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:n=e.context.level,a=!0;break;case h.ErrorDetails.REMUX_ALLOC_ERROR:n=e.level}if(void 0!==n)if(i=this._levels[n],i.url.length-1>i.urlId)i.urlId++,i.details=void 0,d.logger.warn("level controller,"+t+" for level "+n+": switching to redundant stream id "+i.urlId);else{var l=-1===this._manualLevel&&n;if(l)d.logger.warn("level controller,"+t+": switch-down for next fragment"),o.nextAutoLevel=Math.max(s,n-1);else if(i&&i.details&&i.details.live)d.logger.warn("level controller,"+t+" on live stream, discard"),a&&(this._level=void 0);else if(t===h.ErrorDetails.LEVEL_LOAD_ERROR||t===h.ErrorDetails.LEVEL_LOAD_TIMEOUT){var c=r.media,f=c&&v.default.isBuffered(c,c.currentTime)&&v.default.isBuffered(c,c.currentTime+.5);if(f){var p=r.config.levelLoadingRetryDelay;d.logger.warn("level controller,"+t+", but media buffered, retry in "+p+"ms"),this.timer=setTimeout(this.ontick,p)}else d.logger.error("cannot recover "+t+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0,r.trigger(u.default.ERROR,e)}}}}},{key:"onLevelLoaded",value:function(e){if(e.level===this._level){var t=e.details;if(t.live){var r=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),n=this._levels[e.level],i=n.details;i&&t.endSN===i.endSN&&(r/=2,d.logger.log("same live playlist, reload twice faster")),r-=performance.now()-e.stats.trequest,r=Math.max(1e3,Math.round(r)),d.logger.log("live playlist, reload in "+r+" ms"),this.timer=setTimeout(this.ontick,r)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],r=t.urlId;this.hls.trigger(u.default.LEVEL_LOADING,{url:t.url[r],level:e,id:r})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){-1!==e&&(e=Math.max(e,this.hls.abrController.minAutoLevel)),this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.abrController.nextAutoLevel=e)}}]),t}(f.default);r.default=g},{26:26,27:27,28:28,30:30,45:45}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(41),u=n(l),c=e(30),f=n(c),d=e(22),h=n(d),p=e(28),v=n(p),g=e(27),y=n(g),m=e(31),b=n(m),E=e(46),_=n(E),k=e(26),w=e(45),T={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},R=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,v.default.MEDIA_ATTACHED,v.default.MEDIA_DETACHING,v.default.MANIFEST_LOADING,v.default.MANIFEST_PARSED,v.default.LEVEL_LOADED,v.default.KEY_LOADED,v.default.FRAG_LOADED,v.default.FRAG_LOAD_EMERGENCY_ABORTED,v.default.FRAG_PARSING_INIT_SEGMENT,v.default.FRAG_PARSING_DATA,v.default.FRAG_PARSED,v.default.ERROR,v.default.AUDIO_TRACK_SWITCH,v.default.BUFFER_CREATED,v.default.BUFFER_APPENDED,v.default.BUFFER_FLUSHED));return r.config=e.config,r.audioCodecSwap=!1,r.ticks=0,r.ontick=r.tick.bind(r),r}return o(t,e),s(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),y.default.prototype.destroy.call(this),this.state=T.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(w.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=T.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else w.logger.warn("cannot start loading as manifest not parsed yet"),this.state=T.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.STOPPED}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case T.ERROR:break;case T.BUFFER_FLUSHING:this.fragLoadError=0;break;case T.IDLE:if(!this._doTickIdle())return;break;case T.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=T.IDLE);break;case T.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(w.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=T.IDLE)}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&!r&&(this.startFragRequested||!t.startFragPrefetch))return!0;var n=void 0;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,a=this.levels[i],o=a.bitrate,s=void 0;s=o?Math.max(8*t.maxBufferSize/o,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var l=f.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,t.maxBufferHole),u=l.len;if(u>=s)return!0;w.logger.trace("buffer length of "+u.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var c=a.details;if(void 0===c||c.live&&this.levelLastLoaded!==i)return this.state=T.WAITING_LEVEL,!0;var d=this.fragPrevious;if(!c.live&&d&&d.sn===c.endSN&&(!r.seeking&&l.len||d.duration/2>=r.duration-l.end)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(v.default.BUFFER_EOS,h),this.state=T.ENDED,!0}return this._fetchPayloadOrEos({pos:n,bufferInfo:l,levelDetails:c})}},{key:"_fetchPayloadOrEos",value:function(e){var t=e.pos,r=e.bufferInfo,n=e.levelDetails,i=this.fragPrevious,a=this.level,o=n.fragments,s=o.length;if(0===s)return!1;var l=o[0].start,u=o[s-1].start+o[s-1].duration,c=r.end,f=void 0;if(n.live){var d=this.config.initialLiveManifestSize;if(d>s)return w.logger.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+d),!1;if(null===(f=this._ensureFragmentAtLivePoint({levelDetails:n,bufferEnd:c,start:l,end:u,fragPrevious:i,fragments:o,fragLen:s})))return!1}else l>c&&(f=o[0]);return f||(f=this._findFragment({start:l,fragPrevious:i,fragLen:s,fragments:o,bufferEnd:c,end:u,levelDetails:n})),!f||this._loadFragmentOrKey({frag:f,level:a,levelDetails:n,pos:t,bufferEnd:c})}},{key:"_ensureFragmentAtLivePoint",value:function(e){var t=e.levelDetails,r=e.bufferEnd,n=e.start,i=e.end,a=e.fragPrevious,o=e.fragments,s=e.fragLen,l=this.hls.config,u=this.media,c=void 0,f=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*t.targetduration;if(r<Math.max(n,i-f)){var d=this.liveSyncPosition=this.computeLivePosition(n,t);w.logger.log("buffer end: "+r.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),r=d,u&&u.readyState&&u.duration>d&&(u.currentTime=d)}if(t.PTSKnown&&r>i&&u&&u.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(a){var h=a.sn+1;t.startSN>h||h>t.endSN||(c=o[h-t.startSN],w.logger.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=o[Math.min(s-1,Math.round(s/2))],w.logger.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c}},{key:"_findFragment",value:function(e){var t=(e.start,e.fragPrevious),r=e.fragLen,n=e.fragments,i=e.bufferEnd,a=e.end,o=e.levelDetails,s=this.hls.config,l=void 0,c=void 0,f=s.maxFragLookUpTolerance;if(a>i?(i>a-f&&(f=0),c=u.default.search(n,function(e){return e.start+e.duration-f>i?e.start-f>i&&e.start?-1:0:1})):c=n[r-1],c&&(l=c,c.start,t&&l.level===t.level&&l.sn===t.sn))if(o.endSN>l.sn){var d=t.deltaPTS,h=l.sn-o.startSN;d&&d>s.maxBufferHole&&t.dropped&&h?(l=n[h-1],w.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(l=n[h+1],w.logger.log("SN just loaded, load next one: "+l.sn))}else l=null;return l}},{key:"_loadFragmentOrKey",value:function(e){var t=e.frag,r=e.level,n=e.levelDetails,i=e.pos,a=e.bufferEnd,o=this.hls,s=o.config;if(null==t.decryptdata.uri||null!=t.decryptdata.key){if(w.logger.log("Loading "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+r+", currentTime:"+i.toFixed(3)+",bufferEnd:"+a.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var l=s.fragLoadingLoopThreshold;if(t.loadCounter>l&&Math.abs(this.fragLoadIdx-t.loadIdx)<l)return o.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t}),!1}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,this.fragCurrent=t,this.startFragRequested=!0,this.nextLoadPosition=t.start+t.duration,t.autoLevel=o.autoLevelEnabled,t.bitrateTest=this.bitrateTest,o.trigger(v.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new h.default(o,"main")),this.state=T.FRAG_LOADING,!0}w.logger.log("Loading key for "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+r),this.state=T.KEY_LOADING,o.trigger(v.default.KEY_LOADING,{frag:t})}},{key:"getBufferRange",value:function(e){var t,r,n=this.bufferRange;if(n)for(t=n.length-1;t>=0;t--)if(r=n[t],e>=r.start&&r.end>=e)return r;return null}},{key:"followingBufferRange",value:function(e){return e?this.getBufferRange(e.end+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&(t=r.currentTime,t>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),f.default.isBuffered(r,t)?e=this.getBufferRange(t):f.default.isBuffered(r,t+.1)&&(e=this.getBufferRange(t+.1)),e)){var n=e.frag;n!==this.fragPlaying&&(this.fragPlaying=n,this.hls.trigger(v.default.FRAG_CHANGED,{frag:n}))}}},{key:"immediateLevelSwitch",value:function(){if(w.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.BUFFER_FLUSHING,this.hls.trigger(v.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,f.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,r=void 0,n=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,r=this.getBufferRange(e.currentTime),r&&r.start>1&&(this.state=T.BUFFER_FLUSHING,this.hls.trigger(v.default.BUFFER_FLUSHING,{startOffset:0,endOffset:r.start-1})),e.paused)t=0;else{var i=this.hls.nextLoadLevel,a=this.levels[i],o=this.fragLastKbps;t=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if((n=this.getBufferRange(e.currentTime+t))&&(n=this.followingBufferRange(n))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.state=T.BUFFER_FLUSHING,this.hls.trigger(v.default.BUFFER_FLUSHING,{startOffset:n.start,endOffset:Number.POSITIVE_INFINITY})}}}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(w.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,r=this.config;if(w.logger.log("media seeking to "+t.toFixed(3)),this.state===T.FRAG_LOADING){var n=f.default.bufferInfo(e,t,this.config.maxBufferHole),i=this.fragCurrent;if(0===n.len&&i){var a=r.maxFragLookUpTolerance,o=i.start-a,s=i.start+i.duration+a;o>t||t>s?(i.loader&&(w.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=T.IDLE):w.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===T.ENDED&&(this.state=T.IDLE);e&&(this.lastCurrentTime=t),this.state!==T.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){w.logger.log("media seeked to "+this.media.currentTime.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){w.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){w.logger.log("trigger BUFFER_RESET"),this.hls.trigger(v.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,r=!1,n=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&w.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var i=this.config;i.autoStartLoad&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,r=e.level,n=this.levels[r],i=t.totalduration,a=0;if(w.logger.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),this.levelLastLoaded=r,t.live){var o=n.details;o&&t.fragments.length>0?(b.default.mergeDetails(o,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,o),w.logger.log(t.PTSKnown?"live playlist sliding:"+a.toFixed(3):"live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,w.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(n.details=t,this.hls.trigger(v.default.LEVEL_UPDATED,{details:t,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var s=t.startTimeOffset;isNaN(s)?t.live?(this.startPosition=this.computeLivePosition(a,t),w.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(0>s&&(w.logger.log("negative start time offset "+s+", count from end of last fragment"),s=a+i+s),w.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===T.WAITING_LEVEL&&(this.state=T.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===T.KEY_LOADING&&(this.state=T.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,r=e.frag;if(this.state===T.FRAG_LOADING&&t&&"main"===r.type&&r.level===t.level&&r.sn===t.sn){var n=e.stats,i=this.levels[t.level],a=i.details;if(w.logger.log("Loaded  "+t.sn+" of ["+a.startSN+" ,"+a.endSN+"],level "+t.level),this.bitrateTest=!1,!0===r.bitrateTest&&this.hls.nextLoadLevel)this.state=T.IDLE,this.startFragRequested=!1,n.tparsed=n.tbuffered=performance.now(),this.hls.trigger(v.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.tick();else{this.state=T.PARSING,this.stats=n;var o=a.totalduration,s=isNaN(t.startDTS)?t.start:t.startDTS,l=t.level,u=t.sn,c=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(w.logger.log("swapping playlist audio codec"),void 0===c&&(c=this.lastAudioCodec),c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingAppending=0,w.logger.log("Parsing "+u+" of ["+a.startSN+" ,"+a.endSN+"],level "+l+", cc "+t.cc);var f=this.demuxer;f||(f=this.demuxer=new h.default(this.hls,"main"));var d=a.PTSKnown||!a.live;f.push(e.payload,c,i.videoCodec,s,t.cc,l,u,o,t.decryptdata,d)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING){var r,n,i=e.tracks;if(i.audio&&this.altAudio&&delete i.audio,n=i.audio){var a=this.levels[this.level].audioCodec,o=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(w.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==n.metadata.channelCount&&-1===o.indexOf("firefox")&&(a="mp4a.40.5"),-1!==o.indexOf("android")&&"audio/mpeg"!==n.container&&(a="mp4a.40.2",w.logger.log("Android: force audio codec to "+a)),n.levelCodec=a,n.id=e.id}if(n=i.video,n&&(n.levelCodec=this.levels[this.level].videoCodec,n.id=e.id),e.unique){var s={codec:"",levelCodec:""};for(r in e.tracks)n=i[r],s.container=n.container,s.codec&&(s.codec+=",",s.levelCodec+=","),n.codec&&(s.codec+=n.codec),n.levelCodec&&(s.levelCodec+=n.levelCodec);i={audiovideo:s}}this.hls.trigger(v.default.BUFFER_CODECS,i);for(r in i){n=i[r],w.logger.log("main track:"+r+",container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var l=n.initSegment;l&&(this.pendingAppending++,this.hls.trigger(v.default.BUFFER_APPENDING,{type:r,data:l,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,r=this.fragCurrent;if(r&&"main"===e.id&&e.sn===r.sn&&e.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===T.PARSING){var n=this.levels[this.level],i=this.fragCurrent;w.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0));var a=b.default.updateFragPTSDTS(n.details,i.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),o=this.hls;o.trigger(v.default.LEVEL_PTS_UPDATED,{details:n.details,level:this.level,drift:a,type:e.type,start:e.startPTS,end:e.endPTS}),"video"===e.type&&(i.dropped=e.dropped),[e.data1,e.data2].forEach(function(r){r&&(t.pendingAppending++,o.trigger(v.default.BUFFER_APPENDING,{type:e.type,data:r,parent:"main",content:"data"}))}),this.bufferRange.push({type:e.type,start:e.startPTS,end:e.endPTS,frag:i}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===T.PARSING&&(this.stats.tparsed=performance.now(),this.state=T.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitch",value:function(e){var t=!!e.url;if(t)this.videoBuffer&&this.mediaBuffer!==this.videoBuffer&&(w.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=this.videoBuffer);else if(this.mediaBuffer!==this.media){w.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(w.logger.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=T.IDLE}this.altAudio=t}},{key:"onBufferCreated",value:function(e){var t=e.tracks,r=void 0,n=void 0,i=!1;for(var a in t){var o=t[a];"main"===o.id?(n=a,r=o,"video"===a&&(this.videoBuffer=t[a].buffer)):i=!0}i&&r?(w.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent)switch(this.state){case T.PARSING:case T.PARSED:this.pendingAppending--,this._checkAppendedParsed()}}},{key:"_checkAppendedParsed",value:function(){if(this.state===T.PARSED&&0===this.pendingAppending){var e=this.fragCurrent,t=this.stats;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*t.total/(t.tbuffered-t.tfirst)),this.hls.trigger(v.default.FRAG_BUFFERED,{stats:t,frag:e,id:"main"});var r=this.mediaBuffer?this.mediaBuffer:this.media;w.logger.log("main buffered : "+_.default.toString(r.buffered)),this.state=T.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var r=this.media,n=r&&f.default.isBuffered(r,r.currentTime)&&f.default.isBuffered(r,r.currentTime+.5);switch(e.details){case k.ErrorDetails.FRAG_LOAD_ERROR:case k.ErrorDetails.FRAG_LOAD_TIMEOUT:case k.ErrorDetails.KEY_LOAD_ERROR:case k.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var i=this.fragLoadError;i?i++:i=1;var a=this.config;if(a.fragLoadingMaxRetry>=i||n||t.autoLevel&&t.level){this.fragLoadError=i,t.loadCounter=0;var o=Math.min(Math.pow(2,i-1)*a.fragLoadingRetryDelay,a.fragLoadingMaxRetryTimeout);w.logger.warn("mediaController: frag loading failed, retry in "+o+" ms"),this.retryDate=performance.now()+o,this.state=T.FRAG_LOADING_WAITING_RETRY}else w.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(v.default.ERROR,e),this.state=T.ERROR}break;case k.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(n?(this._reduceMaxBufferLength(t.duration),this.state=T.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.hls.trigger(v.default.ERROR,e),this.state=T.ERROR));break;case k.ErrorDetails.LEVEL_LOAD_ERROR:case k.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==T.ERROR&&(e.fatal?(this.state=T.ERROR,w.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):this.state===T.WAITING_LEVEL&&(this.state=T.IDLE));break;case k.ErrorDetails.BUFFER_FULL_ERROR:this.state!==T.PARSING&&this.state!==T.PARSED||(n?(this._reduceMaxBufferLength(t.duration),this.state=T.IDLE):(w.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.state=T.PAUSED,this.hls.trigger(v.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;e>t.maxMaxBufferLength||(t.maxMaxBufferLength/=2,w.logger.warn("reduce max buffer length to "+t.maxMaxBufferLength+"s and switch to IDLE state"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,r=e.buffered;if(this.loadedmetadata||!r.length||e.seeking)if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var n=f.default.bufferInfo(e,t,0),i=!(e.paused||e.ended||0===e.buffered.length),a=.5,o=t>e.playbackRate*this.lastCurrentTime,s=this.config;if(this.stalled&&o&&(this.stalled=!1,w.logger.log("playback not stuck anymore @"+t)),i&&a>=n.len&&(o?(a=0,this.seekHoleNudgeDuration=0):this.stalled?this.seekHoleNudgeDuration+=s.seekHoleNudgeDuration:(this.seekHoleNudgeDuration=0,w.logger.log("playback seems stuck @"+t),this.hls.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1}),this.stalled=!0),a>=n.len)){var l=n.nextStart,u=l-t;if(l&&s.maxSeekHole>u&&u>0){w.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+l+" + nudge "+this.seekHoleNudgeDuration);var c=l+this.seekHoleNudgeDuration-e.currentTime;e.currentTime=l+this.seekHoleNudgeDuration,this.hls.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:c})}}}else{this.loadedmetadata=!0;var d=this.startPosition,h=f.default.isBuffered(e,d);t===d&&h||(w.logger.log("target start position:"+d),h||(d=r.start(0),w.logger.log("target start position not buffered, seek to buffered.start(0) "+d)),w.logger.log("adjust currentTime from "+t+" to "+d),e.currentTime=d)}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=T.IDLE,this.loadedmetadata||(this.startFragRequested=!1),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media,t=this.bufferRange,r=[],n=void 0,i=void 0;for(i=0;t.length>i;i++)n=t[i],f.default.isBuffered(e,(n.start+n.end)/2)&&r.push(n);this.bufferRange=r,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=T.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,w.logger.log("engine state transition from "+t+" to "+e),this.hls.trigger(v.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferRange(e.currentTime);if(t)return t.frag.level}return-1}},{key:"nextBufferRange",get:function(){var e=this.media;return e?this.followingBufferRange(this.getBufferRange(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferRange;return e?e.frag.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(y.default);r.default=R},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(28),u=n(l),c=e(27),f=n(c),d=e(42),h=n(d),p=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.FRAG_PARSING_USERDATA,u.default.MANIFEST_LOADING,u.default.FRAG_LOADED,u.default.LEVEL_SWITCH));if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.config.enableCEA708Captions){var n=r,o=function(e,t){var r=null;try{r=new window.Event("addtrack")}catch(e){r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)},s={newCue:function(e,t,r){if(!n.textTrack1){var i=n.getExistingTrack("1");i?(n.textTrack1=i,n.clearCurrentCues(n.textTrack1),o(n.textTrack1,n.media)):(n.textTrack1=n.createTextTrack("captions","English","en"),n.textTrack1.textTrack1=!0)}n.Cues.newCue(n.textTrack1,e,t,r)}},l={newCue:function(e,t,r){if(!n.textTrack2){var i=n.getExistingTrack("2");i?(n.textTrack2=i,n.clearCurrentCues(n.textTrack2),o(n.textTrack2,n.media)):(n.textTrack2=n.createTextTrack("captions","Spanish","es"),n.textTrack2.textTrack2=!0)}n.Cues.newCue(n.textTrack2,e,t,r)}};r.cea608Parser=new h.default(0,s,l)}return r}return o(t,e),s(t,[{key:"clearCurrentCues",value:function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var r=0;t.textTracks.length>r;r++){var n=t.textTracks[r],i="textTrack"+e;if(!0===n[i])return n}return null}},{key:"createTextTrack",value:function(e,t,r){if(this.media)return this.media.addTextTrack(e,t,r)}},{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){this.media=e.media}},{key:"onMediaDetaching",value:function(){this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.lastPts=Number.NEGATIVE_INFINITY}},{key:"onLevelSwitch",value:function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions}},{key:"onFragLoaded",value:function(e){if("main"===e.frag.type){var t=e.frag.start;t>this.lastPts||(this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)),this.lastPts=t}}},{key:"onFragParsingUserdata",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;e.samples.length>t;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}}},{key:"extractCea608Data",value:function(e){for(var t,r,n,i,a,o=31&e[0],s=2,l=[],u=0;o>u;u++)t=e[s++],r=127&e[s++],n=127&e[s++],i=0!==(4&t),a=3&t,0===r&&0===n||i&&0===a&&(l.push(r),l.push(n));return l}}]),t}(f.default);r.default=p},{27:27,28:28,42:42}],14:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r){n(this,e),this.subtle=t,this.aesIV=r}return i(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}();r.default=a},{}],15:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){n(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return i(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;r.length>n;n++)r[n]=t.getUint32(4*n);return r}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,r=this.subMix[0],n=this.subMix[1],i=this.subMix[2],a=this.subMix[3],o=this.invSubMix[0],s=this.invSubMix[1],l=this.invSubMix[2],u=this.invSubMix[3],c=new Uint32Array(256),f=0,d=0,h=0;for(h=0;256>h;h++)c[h]=128>h?h<<1:h<<1^283;for(h=0;256>h;h++){var p=d^d<<1^d<<2^d<<3^d<<4;p=p>>>8^255&p^99,e[f]=p,t[p]=f;var v=c[f],g=c[v],y=c[g],m=257*c[p]^16843008*p;r[f]=m<<24|m>>>8,n[f]=m<<16|m>>>16,i[f]=m<<8|m>>>24,a[f]=m,m=16843009*y^65537*g^257*v^16843008*f,o[p]=m<<24|m>>>8,s[p]=m<<16|m>>>16,l[p]=m<<8|m>>>24,u[p]=m,f?(f=v^c[c[c[y^v]]],d^=c[c[d]]):f=d=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;t.length>n&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw Error("Invalid aes key size="+i);var a=this.ksRows=4*(i+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(this.ksRows),u=this.invKeySchedule=new Uint32Array(this.ksRows),c=this.sBox,f=this.rcon,d=this.invSubMix[0],h=this.invSubMix[1],p=this.invSubMix[2],v=this.invSubMix[3],g=void 0,y=void 0;for(o=0;a>o;o++)i>o?g=l[o]=t[o]:(y=g,o%i===0?(y=y<<8|y>>>24,y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y],y^=f[o/i|0]<<24):i>6&&o%i===4&&(y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y]),l[o]=g=(l[o-i]^y)>>>0);for(s=0;a>s;s++)o=a-s,y=3&s?l[o]:l[o-4],u[s]=4>s||4>=o?y:d[c[y>>>24]]^h[c[y>>>16&255]]^p[c[y>>>8&255]]^v[c[255&y]],u[s]=u[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,r){for(var n,i,a=this.keySize+6,o=this.invKeySchedule,s=this.invSBox,l=this.invSubMix[0],u=this.invSubMix[1],c=this.invSubMix[2],f=this.invSubMix[3],d=this.uint8ArrayToUint32Array_(r),h=d[0],p=d[1],v=d[2],g=d[3],y=new Int32Array(e),m=new Int32Array(y.length),b=void 0,E=void 0,_=void 0,k=void 0,w=void 0,T=void 0,R=void 0,S=void 0,A=void 0,O=void 0,L=void 0,C=void 0;y.length>t;){for(A=this.networkToHostOrderSwap(y[t]),O=this.networkToHostOrderSwap(y[t+1]),L=this.networkToHostOrderSwap(y[t+2]),C=this.networkToHostOrderSwap(y[t+3]),w=A^o[0],T=C^o[1],R=L^o[2],S=O^o[3],n=4,i=1;a>i;i++)b=l[w>>>24]^u[T>>16&255]^c[R>>8&255]^f[255&S]^o[n],E=l[T>>>24]^u[R>>16&255]^c[S>>8&255]^f[255&w]^o[n+1],_=l[R>>>24]^u[S>>16&255]^c[w>>8&255]^f[255&T]^o[n+2],k=l[S>>>24]^u[w>>16&255]^c[T>>8&255]^f[255&R]^o[n+3],w=b,T=E,R=_,S=k,n+=4;b=s[w>>>24]<<24^s[T>>16&255]<<16^s[R>>8&255]<<8^s[255&S]^o[n],E=s[T>>>24]<<24^s[R>>16&255]<<16^s[S>>8&255]<<8^s[255&w]^o[n+1],_=s[R>>>24]<<24^s[S>>16&255]<<16^s[w>>8&255]<<8^s[255&T]^o[n+2],k=s[S>>>24]<<24^s[w>>16&255]<<16^s[T>>8&255]<<8^s[255&R]^o[n+3],n+=3,m[t]=this.networkToHostOrderSwap(b^h),m[t+1]=this.networkToHostOrderSwap(k^p),m[t+2]=this.networkToHostOrderSwap(_^v),m[t+3]=this.networkToHostOrderSwap(E^g),h=A,p=O,v=L,g=C,t+=4}return m.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();r.default=a},{}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e(14),s=n(o),l=e(17),u=n(l),c=e(15),f=n(c),d=e(26),h=e(45),p=function(){function e(t){i(this,e),this.hls=t;try{var r=window?window.crypto:crypto;this.subtle=r.subtle||r.webkitSubtle}catch(e){}this.disableWebCrypto=!this.supportsWebCrypto()}return a(e,[{key:"supportsWebCrypto",value:function(){return this.subtle&&"https:"===window.location.protocol}},{key:"decrypt",value:function(e,t,r,n){var i=this;this.disableWebCrypto&&this.hls.config.enableSoftwareAES?(h.logger.log("decrypting by JavaScript Implementation"),this.decryptor||(this.decryptor=new f.default),this.decryptor.expandKey(t),n(this.decryptor.decrypt(e,0,r))):function(){h.logger.log("decrypting by WebCrypto API");var a=i.subtle;i.key!==t&&(i.key=t,i.fastAesKey=new u.default(a,t)),i.fastAesKey.expandKey().then(function(t){new s.default(a,r).decrypt(e,t).then(function(e){n(e)})}).catch(function(a){i.onWebCryptoError(a,e,t,r,n)})}()}},{key:"onWebCryptoError",value:function(e,t,r,n,i){var a=this.hls;a.config.enableSoftwareAES?(h.logger.log("disabling to use WebCrypto API"),this.disableWebCrypto=!0,this.decrypt(t,r,n,i)):(h.logger.error("decrypting error : "+e.message),a.trigger(Event.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}();r.default=p},{14:14,15:15,17:17,26:26,45:45}],17:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,r){n(this,e),this.subtle=t,this.key=r}return i(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();r.default=a},{}],18:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e(19),s=n(o),l=e(45),u=e(24),c=n(u),f=function(){function e(t,r,n,a,o){i(this,e),this.observer=t,this.id=r,this.remuxerClass=n,this.config=a,this.remuxer=new this.remuxerClass(t,r,a,o),this.insertDiscontinuity()}return a(e,[{key:"insertDiscontinuity",value:function(){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0}}},{key:"push",value:function(e,t,r,n,i,a,o,u,f){var d,h,p,v,g,y,m,b,E,_,k=new c.default(e),w=90*k.timeStamp,T=!1;for(i!==this.lastCC?(l.logger.log(this.id+" discontinuity detected"),this.lastCC=i,this.insertDiscontinuity(),this.remuxer.switchLevel(),this.remuxer.insertDiscontinuity()):a!==this.lastLevel?(l.logger.log("audio track switch detected"),this.lastLevel=a,this.remuxer.switchLevel(),this.insertDiscontinuity()):o===this.lastSN+1&&(T=!0),d=this._aacTrack,this.lastSN=o,this.lastLevel=a,y=k.length,E=e.length;E-1>y&&(255!==e[y]||240!==(240&e[y+1]));y++);for(d.audiosamplerate||(h=s.default.getAudioConfig(this.observer,e,y,t),d.config=h.config,d.audiosamplerate=h.samplerate,d.channelCount=h.channelCount,d.codec=h.codec,d.duration=u,l.logger.log("parsed codec:"+d.codec+",rate:"+h.samplerate+",nb channel:"+h.channelCount)),g=0,v=9216e4/d.audiosamplerate;E>y+5&&(m=1&e[y+1]?7:9,p=(3&e[y+3])<<11|e[y+4]<<3|(224&e[y+5])>>>5,(p-=m)>0&&E>=y+m+p);)for(b=w+g*v,_={unit:e.subarray(y+m,y+m+p),pts:b,dts:b},d.samples.push(_),d.len+=p,y+=p+m,g++;E-1>y&&(255!==e[y]||240!==(240&e[y+1]));y++);this.remuxer.remux(a,o,this._aacTrack,{samples:[]},{samples:[{pts:w,dts:w,unit:k.payload}]},{samples:[]},n,T,f)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,r,n=new c.default(e);if(n.hasTimeStamp)for(t=n.length,r=e.length;r-1>t;t++)if(255===e[t]&&240===(240&e[t+1]))return!0;return!1}}]),e}();r.default=f},{19:19,24:24,45:45}],19:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e(45),o=e(26),s=function(){function e(){n(this,e)}return i(e,null,[{key:"getAudioConfig",value:function(e,t,r,n){var i,s,l,u,c,f=navigator.userAgent.toLowerCase(),d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return i=1+((192&t[r+2])>>>6),s=(60&t[r+2])>>>2,s>d.length-1?void e.trigger(Event.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s}):(u=(1&t[r+2])<<2,u|=(192&t[r+3])>>>6,a.logger.log("manifest codec:"+n+",ADTS data:type:"+i+",sampleingIndex:"+s+"["+d[s]+"Hz],channelConfig:"+u),/firefox|OPR/i.test(f)?6>s?(i=2,c=Array(2),l=s):(i=5,c=Array(4),l=s-3):-1!==f.indexOf("android")?(i=2,c=Array(2),l=s):(i=5,c=Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&s>=6?l=s-3:((n&&-1!==n.indexOf("mp4a.40.2")&&s>=6&&1===u||!n&&1===u)&&(i=2,c=Array(2)),l=s)),c[0]=i<<3,c[0]|=(14&s)>>1,c[1]|=(1&s)<<7,c[1]|=u<<3,5===i&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:d[s],channelCount:u,codec:"mp4a.40."+i})}}]),e}();r.default=s},{26:26,45:45}],20:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e(28),s=n(o),l=e(26),u=e(18),c=n(u),f=e(25),d=n(f),h=e(38),p=n(h),v=e(39),g=n(v),y=function(){function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),this.hls=t,this.id=r,this.config=this.hls.config||a,this.typeSupported=n}return a(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,r,n,i,a,o,u,f){var h=this.demuxer;if(!h){var v=this.hls,y=this.id,m=this.config,b=this.typeSupported;if(d.default.probe(e))h=!0===this.typeSupported.mp2t?new d.default(v,y,g.default,m,b):new d.default(v,y,p.default,m,b);else{if(!c.default.probe(e))return void v.trigger(s.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,id:y,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});h=new c.default(v,y,p.default,m,b)}this.demuxer=h}h.push(e,t,r,n,i,a,o,u,f)}}]),e}();r.default=y},{18:18,25:25,26:26,28:28,38:38,39:39}],21:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e(20),a=n(i),o=e(28),s=n(o),l=e(45),u=e(1),c=n(u),f=function(e){var t=new c.default;t.trigger=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;r>i;i++)n[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;r>i;i++)n[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(n))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",function(n){var i=n.data;switch(i.cmd){case"init":var o=JSON.parse(i.config);e.demuxer=new a.default(t,i.id,i.typeSupported,o);try{(0,l.enableLogs)(!0===o.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}r("init",null);break;case"demux":e.demuxer.push(new Uint8Array(i.data),i.audioCodec,i.videoCodec,i.timeOffset,i.cc,i.level,i.sn,i.duration,i.accurateTimeOffset)}}),t.on(s.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(s.default.FRAG_PARSED,r),t.on(s.default.ERROR,r),t.on(s.default.FRAG_PARSING_METADATA,r),t.on(s.default.FRAG_PARSING_USERDATA,r),t.on(s.default.FRAG_PARSING_DATA,function(t,r){var n=r.data1.buffer,i=r.data2.buffer;delete r.data1,delete r.data2,e.postMessage({event:t,data:r,data1:n,data2:i},[n,i])})};r.default=f},{1:1,20:20,28:28,45:45}],22:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e(28),s=n(o),l=e(20),u=n(l),c=e(21),f=n(c),d=e(45),h=e(16),p=n(h),v=e(26),g=function(){function t(r,n){i(this,t),this.hls=r,this.id=n;var a={mp4:MediaSource.isTypeSupported("video/mp4"),mp2t:r.config.enableMP2TPassThrough&&MediaSource.isTypeSupported("video/mp2t"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};if(r.config.enableWorker&&"undefined"!=typeof Worker){d.logger.log("demuxing in webworker");var o=void 0;try{var l=e(3);o=this.w=l(f.default),this.onwmsg=this.onWorkerMessage.bind(this),o.addEventListener("message",this.onwmsg),o.onerror=function(e){r.trigger(s.default.ERROR,{type:v.ErrorTypes.OTHER_ERROR,details:v.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},o.postMessage({cmd:"init",typeSupported:a,id:n,config:JSON.stringify(r.config)})}catch(e){d.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),o&&URL.revokeObjectURL(o.objectURL),this.demuxer=new u.default(r,n,a)}}else this.demuxer=new u.default(r,n,a);this.demuxInitialized=!0}return a(t,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.decrypter;r&&(r.destroy(),this.decrypter=null)}},{key:"pushDecrypted",value:function(e,t,r,n,i,a,o,s,l){var u=this.w;if(u)u.postMessage({cmd:"demux",data:e,audioCodec:t,videoCodec:r,timeOffset:n,cc:i,level:a,sn:o,duration:s,accurateTimeOffset:l},[e]);else{var c=this.demuxer;c&&c.push(new Uint8Array(e),t,r,n,i,a,o,s,l)}}},{key:"push",value:function(e,t,r,n,i,a,o,l,u,c){if(e.byteLength>0&&null!=u&&null!=u.key&&"AES-128"===u.method){null==this.decrypter&&(this.decrypter=new p.default(this.hls));var f=this,d=performance.now();this.decrypter.decrypt(e,u.key.buffer,u.iv.buffer,function(e){f.hls.trigger(s.default.FRAG_DECRYPTED,{level:a,sn:o,stats:{tstart:d,tdecrypt:performance.now()}}),f.pushDecrypted(e,t,r,n,i,a,o,l,c)})}else this.pushDecrypted(e,t,r,n,i,a,o,l,c)}},{key:"onWorkerMessage",value:function(e){var t=e.data,r=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case s.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data.data2=new Uint8Array(t.data2);default:r.trigger(t.event,t.data)}}}]),t}();r.default=g},{16:16,20:20,21:21,26:26,28:28,3:3,45:45}],23:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e(45),o=function(){function e(t){n(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return i(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&a.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r}},{key:"skipLZ",value:function(){var e;for(e=0;this.bitsAvailable>e;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,r,n=8,i=8;for(t=0;e>t;t++)0!==i&&(r=this.readEG(),i=(n+r+256)%256),n=0===i?n:i}},{key:"readSPS",value:function(){var e,t,r,n,i,a,o,s=0,l=0,u=0,c=0,f=1,d=this.readUByte.bind(this),h=this.readBits.bind(this),p=this.readUEG.bind(this),v=this.readBoolean.bind(this),g=this.skipBits.bind(this),y=this.skipEG.bind(this),m=this.skipUEG.bind(this),b=this.skipScalingList.bind(this);if(d(),e=d(),h(5),g(3),d(),m(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var E=p();if(3===E&&g(1),m(),m(),g(1),v())for(a=3!==E?8:12,o=0;a>o;o++)v()&&b(6>o?16:64)}m();var _=p();if(0===_)p();else if(1===_)for(g(1),y(),y(),t=p(),o=0;t>o;o++)y();if(m(),g(1),r=p(),n=p(),i=h(1),0===i&&g(1),g(1),v()&&(s=p(),l=p(),u=p(),c=p()),v()&&v()){var k=void 0;switch(d()){case 1:k=[1,1];break;case 2:k=[12,11];break;case 3:k=[10,11];break;case 4:k=[16,11];break;case 5:k=[40,33];break;case 6:k=[24,11];break;case 7:k=[20,11];break;case 8:k=[32,11];break;case 9:k=[80,33];break;case 10:k=[18,11];break;case 11:k=[15,11];break;case 12:k=[64,33];break;case 13:k=[160,99];break;case 14:k=[4,3];break;case 15:k=[3,2];break;case 16:k=[2,1];break;case 255:k=[d()<<8|d(),d()<<8|d()]}k&&(f=k[0]/k[1])}return{width:Math.ceil((16*(r+1)-2*s-2*l)*f),height:(2-i)*(n+1)*16-(i?2:4)*(u+c)}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();r.default=o},{45:45}],24:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e(45),o=function(){function e(t){n(this,e),this._hasTimeStamp=!1;for(var r,i,o,s,l,u,c,f,d=0;;)if(c=this.readUTF(t,d,3),d+=3,"ID3"===c)d+=3,r=127&t[d++],i=127&t[d++],o=127&t[d++],s=127&t[d++],l=(r<<21)+(i<<14)+(o<<7)+s,u=d+l,this._parseID3Frames(t,d,u),d=u;else{if("3DI"!==c)return d-=3,void((f=d)&&(this.hasTimeStamp||a.logger.warn("ID3 tag found, but no timestamp"),this._length=f,this._payload=t.subarray(0,f)));d+=7,a.logger.log("3DI footer found, end: "+d)}}return i(e,[{key:"readUTF",value:function(e,t,r){var n="",i=t,a=t+r;do{n+=String.fromCharCode(e[i++])}while(a>i);return n}},{key:"_parseID3Frames",value:function(e,t,r){for(var n,i;r>=t+8;)switch(n=this.readUTF(e,t,4),t+=4,e[t++]<<24+e[t++]<<16+e[t++]<<8+e[t++],e[t++]<<8+e[t++],t,n){case"PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(e,t,44)){t+=44,t+=4;var o=1&e[t++];this._hasTimeStamp=!0,i=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,o&&(i+=47721858.84),i=Math.round(i),a.logger.trace("ID3 timestamp found: "+i),this._timeStamp=i}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),e}();r.default=o},{45:45}],25:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e(19),s=n(o),l=e(28),u=n(l),c=e(23),f=n(c),d=e(45),h=e(26),p=function(){function e(t,r,n,a,o){i(this,e),this.observer=t,this.id=r,this.remuxerClass=n,this.config=a,this.typeSupported=o,this.lastCC=0,this.remuxer=new this.remuxerClass(t,r,a,o)}return a(e,[{key:"switchLevel",value:function(){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.remuxer.switchLevel()}},{key:"insertDiscontinuity",value:function(){this.switchLevel(),this.remuxer.insertDiscontinuity()}},{key:"push",value:function(e,t,r,n,i,a,o,s,l){var c,f,p,v,g,y=e.length,m=this.remuxer.passthrough,b=!1;this.audioCodec=t,this.videoCodec=r,this._duration=s,this.contiguous=!1,this.accurateTimeOffset=l,i!==this.lastCC&&(d.logger.log("discontinuity detected"),this.insertDiscontinuity(),this.lastCC=i),a!==this.lastLevel?(d.logger.log("level switch detected"),this.switchLevel(),this.lastLevel=a):o===this.lastSN+1&&(this.contiguous=!0),this.lastSN=o;var E=this.pmtParsed,_=this._avcTrack,k=this._audioTrack,w=this._id3Track,T=_.id,R=k.id,S=w.id,A=this._pmtId,O=_.pesData,L=k.pesData,C=w.pesData,x=this._parsePAT,D=this._parsePMT,P=this._parsePES,I=this._parseAVCPES.bind(this),N=this._parseAACPES.bind(this),M=this._parseMPEGPES.bind(this),F=this._parseID3PES.bind(this);for(y-=y%188,c=0;y>c;c+=188)if(71===e[c]){if(f=!!(64&e[c+1]),p=((31&e[c+1])<<8)+e[c+2],(48&e[c+3])>>4>1){if((v=c+5+e[c+4])===c+188)continue}else v=c+4;switch(p){case T:if(f){if(O&&(g=P(O))&&(I(g,!1),m&&_.codec&&(-1===R||k.codec)))return void this.remux(a,o,e,n);O={data:[],size:0}}O&&(O.data.push(e.subarray(v,c+188)),O.size+=c+188-v);break;case R:if(f){if(L&&(g=P(L))&&(k.isAAC?N(g):M(g),m&&k.codec&&(-1===T||_.codec)))return void this.remux(a,o,e,n);L={data:[],size:0}}L&&(L.data.push(e.subarray(v,c+188)),L.size+=c+188-v);break;case S:f&&(C&&(g=P(C))&&F(g),C={data:[],size:0}),C&&(C.data.push(e.subarray(v,c+188)),C.size+=c+188-v);break;case 0:f&&(v+=e[v]+1),A=this._pmtId=x(e,v);break;case A:f&&(v+=e[v]+1);var U=D(e,v,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3);T=U.avc,T>0&&(_.id=T),R=U.audio,R>0&&(k.id=R,k.isAAC=U.isAAC),S=U.id3,S>0&&(w.id=S),b&&!E&&(d.logger.log("reparse from beginning"),b=!1,c=-188),E=this.pmtParsed=!0;break;case 17:case 8191:break;default:b=!0}}else this.observer.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,id:this.id,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});O&&(g=P(O))?(I(g,!0),_.pesData=null):_.pesData=O,L&&(g=P(L))?(k.isAAC?N(g):M(g),k.pesData=null):(L&&L.size&&d.logger.log("last AAC PES packet truncated,might overlap between fragments"),k.pesData=L),C&&(g=P(C))?(F(g),w.pesData=null):w.pesData=C,this.remux(a,o,null,n)}},{key:"remux",value:function(e,t,r,n){for(var i=this._avcTrack,a=i.samples,o=0,s=0,l=0;a.length>l;l++){for(var u=a[l],c=u.units.units,f=c.length,d=0,h=0;f>h;h++)d+=c[h].data.length;s+=d,o+=f,u.length=d}i.len=s,i.nbNalu=o,this.remuxer.remux(e,t,this._audioTrack,this._avcTrack,this._id3Track,this._txtTrack,n,this.contiguous,this.accurateTimeOffset,r)}},{key:"destroy",value:function(){this.switchLevel(),this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,r){var n,i,a,o,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(n=(15&e[t+1])<<8|e[t+2],i=t+3+n-4,a=(15&e[t+10])<<8|e[t+11],t+=12+a;i>t;){switch(o=(31&e[t+1])<<8|e[t+2],e[t]){case 15:-1===s.audio&&(s.audio=o);break;case 21:-1===s.id3&&(s.id3=o);break;case 27:-1===s.avc&&(s.avc=o);break;case 3:case 4:r?-1===s.audio&&(s.audio=o,s.isAAC=!1):d.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:d.logger.warn("HEVC stream type found, not supported for now");break;default:d.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return s}},{key:"_parsePES",value:function(e){var t,r,n,i,a,o,s,l,u=0,c=e.data;if(!e||0===e.size)return null;for(;19>c[0].length&&c.length>1;){var f=new Uint8Array(c[0].length+c[1].length);f.set(c[0]),f.set(c[1],c[0].length),c[0]=f,c.splice(1,1)}if(t=c[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;for(r=t[7],192&r&&(o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,o>4294967295&&(o-=8589934592),64&r?(s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592):s=o),i=t[8],l=i+9,e.size-=l,a=new Uint8Array(e.size);c.length;){t=c.shift();var d=t.byteLength;if(l){if(l>d){l-=d;continue}t=t.subarray(l),d-=l,l=0}a.set(t,u),u+=d}return n&&(n-=i+3),{data:a,pts:o,dts:s,len:n}}return null}},{key:"pushAccesUnit",value:function(e,t){e.units.units.length&&e.frame&&(!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(t.samples.length||this.contiguous)?t.samples.push(e):t.dropped++),e.debug.length&&d.logger.log(e.pts+"/"+e.dts+":"+e.debug+","+e.units.length)}},{key:"_parseAVCPES",value:function(e,t){var r,n,i,a=this,o=this._avcTrack,s=this._parseAVCNALu(e.data),l=this.avcSample;e.data=null,s.forEach(function(t){switch(t.type){case 1:n=!0,l.frame=!0;var s=t.data;if(s.length>1){var u=new f.default(s).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(l.key=!0)}break;case 5:n=!0,l||(l=a.avcSample=a._createAVCSample(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0,r=new f.default(a.discardEPB(t.data)),r.readUByte();for(var c=0,d=0,h=!1,p=0;!h&&r.bytesAvailable>1;){c=0;do{p=r.readUByte(),c+=p}while(255===p);d=0;do{p=r.readUByte(),d+=p}while(255===p);if(4===c&&0!==r.bytesAvailable){h=!0;if(181===r.readUByte()){if(49===r.readUShort()){if(1195456820===r.readUInt()){if(3===r.readUByte()){var v=r.readUByte(),g=r.readUByte(),y=31&v,m=[v,g];for(i=0;y>i;i++)m.push(r.readUByte()),m.push(r.readUByte()),m.push(r.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:m})}}}}}else if(r.bytesAvailable>d)for(i=0;d>i;i++)r.readUByte()}break;case 7:if(n=!0,!o.sps){r=new f.default(t.data);var b=r.readSPS();o.width=b.width,o.height=b.height,o.sps=[t.data],o.duration=a._duration;var E=t.data.subarray(1,4),_="avc1.";for(i=0;3>i;i++){var k=E[i].toString(16);2>k.length&&(k="0"+k),_+=k}o.codec=_}break;case 8:n=!0,o.pps||(o.pps=[t.data]);break;case 9:n=!1,l&&a.pushAccesUnit(l,o),l=a.avcSample=a._createAVCSample(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}if(l&&n){l.units.units.push(t)}}),t&&l&&(this.pushAccesUnit(l,o),this.avcSample=null)}},{key:"_createAVCSample",value:function(e,t,r,n){return{key:e,pts:t,dts:r,units:{units:[],length:0},debug:n}}},{key:"_insertSampleInOrder",value:function(e,t){var r=e.length;if(r>0)if(t.pts<e[r-1].pts){for(var n=r-1;n>=0;n--)if(e[n].pts>t.pts){e.splice(n,0,t);break}}else e.push(t);else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.units.length){var r=this._avcTrack,n=r.samples;e=n[n.length-1]}if(e){var i=e.units.units;t=i[i.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){for(var t,r,n,i,a,o=0,s=e.byteLength,l=this._avcTrack,u=l.naluState||0,c=u,f=[],d=-1;s>o;)if(t=e[o++],u)if(1!==u)switch(u){case 2:case 3:if(0===t)u=3;else if(1===t){if(d<0){var h=this._getLastNalUnit();if(h&&(c&&4-c>=o&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-c)),(r=o-u-1)>0)){var p=new Uint8Array(h.data.byteLength+r);p.set(h.data,0),p.set(e.subarray(0,r),h.data.byteLength),h.data=p}}else n={data:e.subarray(d,o-u-1),type:a},f.push(n);s>o?(i=31&e[o],d=o,a=i,u=0):u=-1}else u=0;break;case-1:d=0,a=31&t,u=0}else u=t?0:2;else u=t?0:1;if(0>d||0>u||(n={data:e.subarray(d,s),type:a,state:u},f.push(n)),0===f.length){var v=this._getLastNalUnit();if(v){var g=new Uint8Array(v.data.byteLength+e.byteLength);g.set(v.data,0),g.set(e,v.data.byteLength),v.data=g}}return l.naluState=u,f}},{key:"discardEPB",value:function(e){for(var t,r,n=e.byteLength,i=[],a=1;n-2>a;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var o=0;for(a=0;t>a;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r}},{key:"_parseAACPES",value:function(e){var t,r,n,i,a,o,l,c,f,p=this._audioTrack,v=e.data,g=e.pts,y=this.aacOverFlow,m=this.aacLastPTS;if(y){var b=new Uint8Array(y.byteLength+v.byteLength);b.set(y,0),b.set(v,y.byteLength),v=b}for(a=0,c=v.length;c-1>a&&(255!==v[a]||240!==(240&v[a+1]));a++);if(a){var E,_;if(c-1>a?(E="AAC PES did not start with ADTS header,offset:"+a,_=!1):(E="no ADTS header found in AAC PES",_=!0),d.logger.warn("parsing error:"+E),this.observer.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,id:this.id,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:_,reason:E}),_)return}if(p.audiosamplerate||(t=s.default.getAudioConfig(this.observer,v,a,this.audioCodec),p.config=t.config,p.audiosamplerate=t.samplerate,p.channelCount=t.channelCount,p.codec=t.codec,p.duration=this._duration,d.logger.log("parsed codec:"+p.codec+",rate:"+t.samplerate+",nb channel:"+t.channelCount)),i=0,n=9216e4/p.audiosamplerate,y&&m){var k=m+n;Math.abs(k-g)>1&&(d.logger.log("AAC: align PTS for overlapping frames by "+Math.round((k-g)/90)),g=k)}for(;c>a+5&&(o=1&v[a+1]?7:9,r=(3&v[a+3])<<11|v[a+4]<<3|(224&v[a+5])>>>5,(r-=o)>0&&c>=a+o+r);)for(l=g+i*n,f={unit:v.subarray(a+o,a+o+r),pts:l,dts:l},p.samples.push(f),p.len+=r,a+=r+o,i++;c-1>a&&(255!==v[a]||240!==(240&v[a+1]));a++);y=c>a?v.subarray(a,c):null,this.aacOverFlow=y,this.aacLastPTS=l}},{key:"_parseMPEGPES",value:function(e){for(var t,r=e.data,n=e.pts,i=r.length,a=0,o=0;i>o&&(t=this._parseMpeg(r,o,i,a++,n))>0;)o+=t}},{key:"_onMpegFrame",value:function(e,t,r,n,i,a){var o=1152/r*1e3,s=a+i*o,l=this._audioTrack;l.config=[],l.channelCount=n,l.audiosamplerate=r,l.duration=this._duration,l.samples.push({unit:e,pts:s,dts:s}),l.len+=e.length}},{key:"_onMpegNoise",value:function(e){d.logger.warn("mpeg audio has noise: "+e.length+" bytes")}},{key:"_parseMpeg",value:function(e,t,r,n,i){var a=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];if(t+2>r)return-1;if(255===e[t]||224===(224&e[t+1])){if(t+24>r)return-1;var s=e[t+1]>>3&3,l=e[t+1]>>1&3,u=e[t+2]>>4&15,c=e[t+2]>>2&3,f=!!(2&e[t+2]);if(1!==s&&0!==u&&15!==u&&3!==c){var d=3===s?3-l:3===l?3:4,h=1e3*a[14*d+u-1],p=3===s?0:2===s?1:2,v=o[3*p+c],g=f?1:0,y=e[t+3]>>6===3?1:2,m=3===l?(3===s?12:6)*h/v+g<<2:(3===s?144:72)*h/v+g|0;return t+m>r?-1:(this._onMpegFrame&&this._onMpegFrame(e.subarray(t,t+m),h,v,y,n,i),m)}}for(var b=t+2;r>b;){if(255===e[b-1]&&224===(224&e[b]))return this._onMpegNoise&&this._onMpegNoise(e.subarray(t,b-1)),b-t-1;b++}return-1}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();r.default=p},{19:19,23:23,26:26,28:28,45:45}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",INTERNAL_EXCEPTION:"internalException"}},{}],27:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e(45),s=e(26),l=e(28),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(){function e(t){n(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;r>a;a++)i[a-1]=arguments[a];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return a(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===i(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){var r=function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)};try{r.call(this,e,t).call()}catch(t){o.logger.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();r.default=c},{26:26,28:28,45:45}],28:[function(e,t,r){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCH:"hlsLevelSwitch",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],29:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){n(this,e)}return i(e,null,[{key:"getSilentFrame",value:function(e){return 1===e?new Uint8Array([0,200,0,128,35,128]):2===e?new Uint8Array([33,0,73,144,2,25,0,35,128]):3===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):4===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):5===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):6===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):null}}]),e}();r.default=a},{}],30:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){n(this,e)}return i(e,null,[{key:"isBuffered",value:function(e,t){if(e)for(var r=e.buffered,n=0;r.length>n;n++)if(t>=r.start(n)&&t<=r.end(n))return!0;return!1}},{key:"bufferInfo",value:function(e,t,r){if(e){var n,i=e.buffered,a=[];for(n=0;i.length>n;n++)a.push({start:i.start(n),end:i.end(n)});return this.bufferedInfo(a,t,r)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,r){var n,i,a,o,s,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r||t.end-e.end}),s=0;e.length>s;s++){var u=l.length;if(u){var c=l[u-1].end;r>e[s].start-c?e[s].end>c&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,n=0,i=a=t;l.length>s;s++){var f=l[s].start,d=l[s].end;if(t+r>=f&&d>t)i=f,a=d,n=a-t;else if(f>t+r){o=f;break}}return{len:n,start:i,end:a,nextStart:o}}}]),e}();r.default=a},{}],31:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e(45),o=function(){function e(){n(this,e)}return i(e,null,[{key:"mergeDetails",value:function(t,r){var n,i=Math.max(t.startSN,r.startSN)-r.startSN,o=Math.min(t.endSN,r.endSN)-r.startSN,s=r.startSN-t.startSN,l=t.fragments,u=r.fragments,c=0;if(i>o)return void(r.PTSKnown=!1);for(var f=i;o>=f;f++){var d=l[s+f],h=u[f];h&&d&&(c=d.cc-h.cc,isNaN(d.startPTS)||(h.start=h.startPTS=d.startPTS,h.endPTS=d.endPTS,h.duration=d.duration,n=h))}if(c)for(a.logger.log("discontinuity sliding from playlist, take drift into account"),f=0;u.length>f;f++)u[f].cc+=c;if(n)e.updateFragPTSDTS(r,n.sn,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(s>=0&&l.length>s){var p=l[s].start;for(f=0;u.length>f;f++)u[f].start+=p}r.PTSKnown=t.PTSKnown}},{key:"updateFragPTSDTS",value:function(t,r,n,i,a,o){var s,l,u,c;if(!t||t.startSN>r||r>t.endSN)return 0;if(s=r-t.startSN,l=t.fragments,u=l[s],!isNaN(u.startPTS)){var f=Math.abs(u.startPTS-n);u.deltaPTS=isNaN(u.deltaPTS)?f:Math.max(f,u.deltaPTS),n=Math.min(n,u.startPTS),i=Math.max(i,u.endPTS),a=Math.min(a,u.startDTS),o=Math.max(o,u.endDTS)}var d=n-u.start;for(u.start=u.startPTS=n,u.endPTS=i,u.startDTS=a,u.endDTS=o,u.duration=i-n,c=s;c>0;c--)e.updatePTS(l,c,c-1);for(c=s;l.length-1>c;c++)e.updatePTS(l,c,c+1);return t.PTSKnown=!0,d}},{key:"updatePTS",value:function(e,t,r){var n=e[t],i=e[r],o=i.startPTS;isNaN(o)?i.start=r>t?n.start+n.duration:n.start-i.duration:r>t?(n.duration=o-n.start,0>n.duration&&a.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(i.duration=n.start-o,0>i.duration&&a.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"))}}]),e}();r.default=o},{45:45}],32:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e(28),s=n(o),l=e(26),u=e(36),c=n(u),f=e(34),d=n(f),h=e(4),p=n(h),v=e(7),g=n(v),y=e(8),m=n(y),b=e(5),E=n(b),_=e(12),k=n(_),w=e(11),T=n(w),R=e(13),S=n(R),A=e(10),O=n(A),L=e(6),C=n(L),x=e(45),D=e(47),P=n(D),I=e(1),N=n(I),M=e(35),F=n(M),U=e(43),B=n(U),G=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var r=e.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var n in r)n in t||(t[n]=r[n]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveSyncDurationCount>=t.liveMaxLatencyDurationCount)throw Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveSyncDuration>=t.liveMaxLatencyDuration||void 0===t.liveSyncDuration))throw Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,x.enableLogs)(t.debug),this.config=t;var a=this.observer=new N.default;a.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];a.emit.apply(a,[e,e].concat(r))},a.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];a.removeListener.apply(a,[e].concat(r))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.trigger=a.trigger.bind(a),this.playlistLoader=new c.default(this),this.fragmentLoader=new d.default(this),this.levelController=new T.default(this),this.abrController=new t.abrController(this),this.bufferController=new t.bufferController(this),this.capLevelController=new t.capLevelController(this),this.fpsController=new t.fpsController(this),this.streamController=new t.streamController(this),this.audioStreamController=new t.audioStreamController(this),this.timelineController=new t.timelineController(this),this.audioTrackController=new C.default(this),this.keyLoader=new F.default(this)}return a(e,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"0.6.14"}},{key:"Events",get:function(){return s.default}},{key:"ErrorTypes",get:function(){return l.ErrorTypes}},{key:"ErrorDetails",get:function(){return l.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig||(e.defaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,seekHoleNudgeDuration:.01,stalledInBufferedNudgeThreshold:10,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,enableLazyURLResolve:!1,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:P.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:p.default,bufferController:g.default,capLevelController:m.default,fpsController:O.default,streamController:k.default,audioStreamController:E.default,timelineController:S.default,cueHandler:B.default,enableCEA708Captions:!0,enableMP2TPassThrough:!1,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}),e.defaultConfig},set:function(t){e.defaultConfig=t}}]),a(e,[{key:"destroy",value:function(){x.logger.log("destroy"),this.trigger(s.default.DESTROYING),this.detachMedia(),this.playlistLoader.destroy(),this.fragmentLoader.destroy(),this.levelController.destroy(),this.abrController.destroy(),this.bufferController.destroy(),this.capLevelController.destroy(),this.fpsController.destroy(),this.streamController.destroy(),this.audioStreamController.destroy(),this.timelineController.destroy(),this.audioTrackController.destroy(),this.keyLoader.destroy(),this.url=null,this.observer.removeAllListeners()}},{key:"attachMedia",value:function(e){x.logger.log("attachMedia"),this.media=e,this.trigger(s.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){x.logger.log("detachMedia"),this.trigger(s.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){x.logger.log("loadSource:"+e),this.url=e,this.trigger(s.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;x.logger.log("startLoad("+e+")"),this.levelController.startLoad(),this.streamController.startLoad(e),this.audioStreamController.startLoad(e)}},{key:"stopLoad",value:function(){x.logger.log("stopLoad"),this.levelController.stopLoad(),this.streamController.stopLoad(),this.audioStreamController.stopLoad()}},{key:"swapAudioCodec",value:function(){x.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){x.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){x.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){x.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){x.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.abrController.minAutoLevel)},set:function(e){x.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){x.logger.log("set startLevel:"+e),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this.abrController.autoLevelCapping},set:function(e){x.logger.log("set autoLevelCapping:"+e),this.abrController.autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"audioTracks",get:function(){return this.audioTrackController.audioTracks}},{key:"audioTrack",get:function(){return this.audioTrackController.audioTrack},set:function(e){this.audioTrackController.audioTrack=e}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}}]),e}();r.default=G},{1:1,10:10,11:11,12:12,13:13,26:26,28:28,34:34,35:35,36:36,4:4,43:43,45:45,47:47,5:5,6:6,7:7,8:8}],33:[function(e,t,r){"use strict";t.exports=e(32).default},{32:32}],34:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(28),u=n(l),c=e(27),f=n(c),d=e(26),h=e(45),p=e(2),v=n(p),g=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING));return r.loaders={},r}return o(t,e),s(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var r=e[t];r&&r.destroy()}this.loaders={},f.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,r=t.type,n=this.loaders[r],i=this.hls.config;t.loaded=0,n&&(h.logger.warn("abort previous fragment loader for type:"+r),n.abort()),n=this.loaders[r]=t.loader=void 0!==i.fLoader?new i.fLoader(i):new i.loader(i);var a=void 0,o=void 0,s=void 0;a={url:t.url?t.url:v.default.buildAbsoluteURL(t.baseurl,t.relurl),frag:t,responseType:"arraybuffer",progressData:!1};var l=t.byteRangeStartOffset,u=t.byteRangeEndOffset;isNaN(l)||isNaN(u)||(a.rangeStart=l,a.rangeEnd=u),o={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},n.load(a,o,s)}},{key:"loadsuccess",value:function(e,t,r){var n=e.data,i=r.frag;i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(u.default.FRAG_LOADED,{payload:n,frag:i,stats:t})}},{key:"loaderror",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e})}},{key:"loadtimeout",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:"loadprogress",value:function(e,t,r){var n=t.frag;n.loaded=e.loaded,this.hls.trigger(u.default.FRAG_LOAD_PROGRESS,{frag:n,stats:e})}}]),t}(f.default);r.default=g},{2:2,26:26,27:27,28:28,45:45}],35:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(28),u=n(l),c=e(27),f=n(c),d=e(26),h=e(45),p=e(2),v=n(p),g=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.KEY_LOADING));return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return o(t,e),s(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},f.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,r=t.type,n=this.loaders[r],i=t.decryptdata,a=i.uri?i.uri:v.default.buildAbsoluteURL(i.baseuri,i.reluri);if(a!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;n&&(h.logger.warn("abort previous key loader for type:"+r),n.abort()),t.loader=this.loaders[r]=new o.loader(o),this.decrypturl=a,this.decryptkey=null;var s=void 0,l=void 0,c=void 0;s={url:a,frag:t,responseType:"arraybuffer"},l={timeout:o.fragLoadingTimeOut,maxRetry:o.fragLoadingMaxRetry,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(s,l,c)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(u.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,r){var n=r.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(u.default.KEY_LOADED,{frag:n})}},{key:"loaderror",value:function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})}},{key:"loadtimeout",value:function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})}}]),t}(f.default);r.default=g},{2:2,26:26,27:27,28:28,45:45}],36:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=e(2),u=n(l),c=e(28),f=n(c),d=e(27),h=n(d),p=e(26),v=e(40),g=n(v),y=e(45),m=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,b=/#EXT-X-MEDIA:(.*)/g,E=/(?:#EXT(INF): *(\d*(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(BYTERANGE): *(\d+(?:@\d+(?:\.\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g,_=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.MANIFEST_LOADING,f.default.LEVEL_LOADING,f.default.AUDIO_TRACK_LOADING));return r.loaders={},r}return o(t,e),s(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"load",value:function(e,t){var r=this.loaders[t.type];if(r){var n=r.context;if(n&&n.url===e)return void y.logger.trace("playlist request ongoing");y.logger.warn("abort previous loader for type:"+t.type),r.abort()}var i=this.hls.config,a=void 0,o=void 0,s=void 0,l=void 0;"manifest"===t.type?(a=i.manifestLoadingMaxRetry,o=i.manifestLoadingTimeOut,s=i.manifestLoadingRetryDelay,l=i.manifestLoadingMaxRetryTimeout):(a=i.levelLoadingMaxRetry,o=i.levelLoadingTimeOut,s=i.levelLoadingRetryDelay,l=i.levelLoadingMaxRetryTimeout,y.logger.log("loading playlist for level "+t.level)),r=this.loaders[t.type]=t.loader=void 0!==i.pLoader?new i.pLoader(i):new i.loader(i),t.url=e,t.responseType="";var u=void 0,c=void 0;u={timeout:o,maxRetry:a,retryDelay:s,maxRetryDelay:l},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(t,u,c)}},{key:"resolve",value:function(e,t){return u.default.buildAbsoluteURL(t,e)}},{key:"parseMasterPlaylist",value:function(e,t){var r=[],n=void 0;for(m.lastIndex=0;null!=(n=m.exec(e));){var i={},a=i.attrs=new g.default(n[1]);i.url=this.resolve(n[2],t);var o=a.decimalResolution("RESOLUTION");o&&(i.width=o.width,i.height=o.height),i.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),i.name=a.NAME;var s=a.CODECS;if(s){s=s.split(/[ ,]+/);for(var l=0;s.length>l;l++){var u=s[l];-1!==u.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(u):i.audioCodec=u}}r.push(i)}return r}},{key:"parseMasterPlaylistMedia",value:function(e,t,r){var n=void 0,i=[];for(b.lastIndex=0;null!=(n=b.exec(e));){var a={},o=new g.default(n[1]);o.TYPE===r&&(a.groupId=o["GROUP-ID"],a.name=o.NAME,a.type=r,a.default="YES"===o.DEFAULT,a.autoselect="YES"===o.AUTOSELECT,a.forced="YES"===o.FORCED,o.URI&&(a.url=this.resolve(o.URI,t)),a.lang=o.LANGUAGE,a.name||(a.name=a.lang),i.push(a))}return i}},{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),r=12;16>r;r++)t[r]=e>>8*(15-r)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&(r=this.cloneObj(e),r.iv=this.createInitializationVector(t)),r}},{key:"avc1toavcoti",value:function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"parseLevelPlaylist",value:function(e,t,r,n){var i,a,o,s=0,l=0,u={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},c={method:null,key:null,iv:null,uri:null},f=0,d=null,h=null,p=null,v=null,m=null,b=null,_=[],k=this.hls.config,w=!!k&&k.enableLazyURLResolve;for(E.lastIndex=0;null!==(a=E.exec(e));){for(o=1;a.length>o&&void 0===a[o];o++);var T=a[o],R=a[o+1],S=a[o+2];switch(T){case"PLAYLIST-TYPE":u.type=R.toUpperCase();break;case"MEDIA-SEQUENCE":s=u.startSN=parseInt(R);break;case"TARGETDURATION":u.targetduration=parseFloat(R);break;case"VERSION":u.version=parseInt(R);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":f++,_.push([T]);break;case"DISCONTINUITY-SEQ":f=parseInt(R);break;case"BYTERANGE":var A=R.split("@");b=1===A.length?m:parseInt(A[1]),m=parseInt(A[0])+b;break;case"INF":p=parseFloat(R),v=S||null,_.push(S?[T,R,S]:[T,R]);break;case"":if(!isNaN(p)){var O=s++;i=this.fragmentDecryptdataFromLevelkey(c,O),h={type:n,duration:p,title:v,start:l,sn:O,level:r,cc:f,decryptdata:i,programDateTime:d,tagList:_},w?(h.relurl=R,h.baseurl=t):h.url=R?this.resolve(R,t):null,null!==b&&(h.byteRangeStartOffset=b,h.byteRangeEndOffset=m),u.fragments.push(h),l+=p,p=null,v=null,b=null,d=null,_=[]}break;case"KEY":var L=R,C=new g.default(L),x=C.enumeratedString("METHOD"),D=C.URI,P=C.hexadecimalInteger("IV");x&&(c={method:null,key:null,iv:null,uri:null},D&&"AES-128"===x&&(c.method=x,w?(c.baseuri=t,c.reluri=D):c.uri=this.resolve(D,t),c.key=null,c.iv=P));break;case"START":var I=R,N=new g.default(I),M=N.decimalFloatingPoint("TIME-OFFSET");isNaN(M)||(u.startTimeOffset=M);break;case"PROGRAM-DATE-TIME":d=new Date(Date.parse(R)),_.push([T,R]);break;case"#":_.push(S?[R,S]:[R]);break;default:y.logger.warn("line parsed but not handled: "+a)}}return!h||h.url||h.relurl||(u.fragments.pop(),l-=h.duration),u.totalduration=l,u.averagetargetduration=l/u.fragments.length,u.endSN=s-1,u}},{key:"loadsuccess",value:function(e,t,r){var n=e.data,i=e.url,a=r.type,o=r.id,s=r.level,l=this.hls;if(this.loaders[a]=void 0,void 0!==i&&0!==i.indexOf("data:")||(i=r.url),t.tload=performance.now(),0===n.indexOf("#EXTM3U"))if(n.indexOf("#EXTINF:")>0){var u="audioTrack"!==a,c=this.parseLevelPlaylist(n,i,(u?s:o)||0,u?"main":"audio");"manifest"===a&&l.trigger(f.default.MANIFEST_LOADED,{levels:[{url:i,details:c}],audioTracks:[],url:i,stats:t}),t.tparsed=performance.now(),c.targetduration?u?l.trigger(f.default.LEVEL_LOADED,{details:c,level:s||0,id:o||0,stats:t}):l.trigger(f.default.AUDIO_TRACK_LOADED,{details:c,id:o,stats:t}):l.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"invalid targetduration"})}else{var d=this.parseMasterPlaylist(n,i);if(d.length){var h=this.parseMasterPlaylistMedia(n,i,"AUDIO");if(h.length){var v=!1;h.forEach(function(e){e.url||(v=!0)}),!1===v&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(y.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}l.trigger(f.default.MANIFEST_LOADED,{levels:d,audioTracks:h,url:i,stats:t})}else l.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no level found in manifest"})}else l.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(e,t){var r,n,i=t.loader;switch(t.type){case"manifest":r=p.ErrorDetails.MANIFEST_LOAD_ERROR,n=!0;break;case"level":r=p.ErrorDetails.LEVEL_LOAD_ERROR,n=!1;break;case"audioTrack":r=p.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,n=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:r,fatal:n,url:i.url,loader:i,response:e,context:t})}},{key:"loadtimeout",value:function(e,t){var r,n,i=t.loader;switch(t.type){case"manifest":r=p.ErrorDetails.MANIFEST_LOAD_TIMEOUT,n=!0;break;case"level":r=p.ErrorDetails.LEVEL_LOAD_TIMEOUT,n=!1;break;case"audioTrack":r=p.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,n=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:r,fatal:n,url:i.url,loader:i,context:t})}}]),t}(h.default);r.default=_},{2:2,26:26,27:27,28:28,40:40,45:45}],37:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){n(this,e)}return i(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=8,i=r.length,a=i;i--;)n+=r[i].byteLength;for(t=new Uint8Array(n),t[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),i=0,n=8;a>i;i++)t.set(r[i],n),n+=r[i].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,r){return r*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))}},{key:"moov",value:function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))}},{key:"mvhd",value:function(t,r){r*=t;var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,n)}},{key:"sdtp",value:function(t){var r,n,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;i.length>n;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var r,n,i,a=[],o=[];for(r=0;t.sps.length>r;r++)n=t.sps[r],i=n.byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));for(r=0;t.pps.length>r;r++)n=t.pps[r],i=n.byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height;return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var r=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var r=t.audiosamplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var r=t.id,n=t.duration*t.timescale,i=t.width,a=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))}},{key:"traf",value:function(t,r){var n=e.sdtp(t),i=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.trun(t,n.length+16+16+8+16+8+8),n)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,r){var n,i,a,o,s,l,u=t.samples||[],c=u.length,f=12+16*c,d=new Uint8Array(f);for(r+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;c>n;n++)i=u[n],a=i.duration,o=i.size,s=i.flags,l=i.cts,d.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,d)}},{key:"initSegment",value:function(t){e.types||e.init();var r,n=e.moov(t);return r=new Uint8Array(e.FTYP.byteLength+n.byteLength),r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r}}]),e}();r.default=a},{}],38:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e(29),s=n(o),l=e(28),u=n(l),c=e(45),f=e(37),d=n(f),h=e(26),p=function(){function e(t,r,n,a){i(this,e),this.observer=t,this.id=r,this.config=n,this.typeSupported=a,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return a(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){this._initPTS=this._initDTS=void 0}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,r,n,i,a,o,s,l){if(this.level=e,this.sn=t,this.ISGenerated||this.generateIS(r,n,o),this.ISGenerated)if(r.samples.length){var c=this.remuxAudio(r,o,s,l);if(n.samples.length){var f=void 0;c&&(f=c.endPTS-c.startPTS),this.remuxVideo(n,o,s,f)}}else{var d=void 0;n.samples.length&&(d=this.remuxVideo(n,o,s)),d&&r.codec&&this.remuxEmptyAudio(r,o,s,d)}i.samples.length&&this.remuxID3(i,o),a.samples.length&&this.remuxText(a,o),this.observer.trigger(u.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:"generateIS",value:function(e,t,r){var n,i,a=this.observer,o=e.samples,s=t.samples,l=this.PES_TIMESCALE,f=this.typeSupported,p="audio/mp4",v={},g={id:this.id,level:this.level,sn:this.sn,tracks:v,unique:!1},y=void 0===this._initPTS;y&&(n=i=1/0),e.config&&o.length&&(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)&&function(){e.timescale=e.audiosamplerate/function e(t,r){return r?e(r,t%r):t}(e.audiosamplerate,e.isAAC?1024:1152)}(),c.logger.log("audio mp4 timescale :"+e.timescale),e.isAAC||(f.mpeg?(p="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),v.audio={container:p,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:d.default.initSegment([e]),metadata:{channelCount:e.channelCount}},y&&(n=i=o[0].pts-l*r)),t.sps&&t.pps&&s.length&&(t.timescale=this.MP4_TIMESCALE,v.video={container:"video/mp4",codec:t.codec,initSegment:d.default.initSegment([t]),metadata:{width:t.width,height:t.height}},y&&(n=Math.min(n,s[0].pts-l*r),i=Math.min(i,s[0].dts-l*r))),Object.keys(v).length?(a.trigger(u.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,y&&(this._initPTS=n,this._initDTS=i)):a.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,id:this.id,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,r,n){var i,a,o,s,l,f,p,v=8,g=this.PES_TIMESCALE,y=this.PES2MP4SCALEFACTOR,m=e.samples,b=[],E=this._PTSNormalize,_=this._initDTS;m.sort(function(e,t){return e.dts-t.dts});var k=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(0>k){c.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(k/90)+" ms to overcome this issue");for(var w=0;m.length>w;w++)m[w].dts+=k}var T=void 0;T=r?this.nextAvcDts:t*g;var R=m[0];l=Math.max(E(R.dts-_,T),0),s=Math.max(E(R.pts-_,T),0);var S=Math.round((l-T)/90);r&&S&&(S>1?c.logger.log("AVC:"+S+" ms hole between fragments detected,filling it"):-1>S&&c.logger.log("AVC:"+-S+" ms overlapping between fragments detected"),l=T,m[0].dts=l+_,s=Math.max(s-S,T),m[0].pts=s+_,c.logger.log("Video/PTS/DTS adjusted: "+Math.round(s/90)+"/"+Math.round(l/90)+",delta:"+S+" ms")),l,R=m[m.length-1],p=Math.max(E(R.dts-_,T),0),f=Math.max(E(R.pts-_,T),0),f=Math.max(f,p);var A=navigator.vendor,O=navigator.userAgent,L=A&&A.indexOf("Apple")>-1&&O&&!O.match("CriOS");L&&(i=Math.round((p-l)/(y*(m.length-1))));for(var C=0;m.length>C;C++){var x=m[C];L?x.dts=l+C*y*i:(x.dts=Math.max(E(x.dts-_,T),l),x.dts=Math.round(x.dts/y)*y),x.pts=Math.max(E(x.pts-_,T),x.dts),x.pts=Math.round(x.pts/y)*y}var D=e.len+4*e.nbNalu+8;try{a=new Uint8Array(D)}catch(e){return void this.observer.trigger(u.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:D,reason:"fail allocating video mdat "+D})}var P=new DataView(a.buffer);P.setUint32(0,a.byteLength),a.set(d.default.types.mdat,4);for(var I=0;m.length>I;I++){for(var N=m[I],M=0,F=void 0;N.units.units.length;){var U=N.units.units.shift();P.setUint32(v,U.data.byteLength),v+=4,a.set(U.data,v),v+=U.data.byteLength,M+=4+U.data.byteLength}if(L)F=Math.max(0,i*Math.round((N.pts-N.dts)/(y*i)));else{if(m.length-1>I)i=m[I+1].dts-N.dts;else{var B=this.config,G=N.dts-m[I>0?I-1:I].dts;if(B.stretchShortVideoTrack){var j=B.maxBufferHole,H=B.maxSeekHole,z=Math.floor(Math.min(j,H)*g),V=(n?s+n*g:this.nextAudioPts)-N.pts;V>z?(i=V-G,0>i&&(i=G),c.logger.log("It is approximately "+V/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=G}else i=G}i/=y,F=Math.round((N.pts-N.dts)/y)}b.push({size:M,duration:i,cts:F,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:N.key?2:1,isNonSync:N.key?0:1}})}this.nextAvcDts=p+i*y;var W=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var K=b[0].flags;K.dependsOn=2,K.isNonSync=0}e.samples=b,o=d.default.moof(e.sequenceNumber++,l/y,e),e.samples=[];var Y={id:this.id,level:this.level,sn:this.sn,data1:o,data2:a,startPTS:s/g,endPTS:(f+y*i)/g,startDTS:l/g,endDTS:this.nextAvcDts/g,type:"video",nb:b.length,dropped:W};return this.observer.trigger(u.default.FRAG_PARSING_DATA,Y),Y}},{key:"remuxAudio",value:function(e,t,r,n){var i,a,o,l,f,p,v,g,y,m,b,E,_,k,w,T,R=this.PES_TIMESCALE,S=e.timescale,A=R/S,O=e.timescale*(e.isAAC?1024:1152)/e.audiosamplerate,L=O*A,C=this._PTSNormalize,x=this._initDTS,D=!e.isAAC&&this.typeSupported.mpeg,P=D?0:8,I=[],N=[];if(e.samples.sort(function(e,t){return e.pts-t.pts}),N=e.samples,T=this.nextAudioPts,r|=N.length&&T&&(Math.abs(t-T/R)<.1||Math.abs(N[0].pts-T-this._initDTS)<20*L),r||(T=t*R),n&&e.isAAC)for(var M=0,F=T;N.length>M;){var U=N[M],B=C(U.pts-x,T),G=B-F;if(-L<G)if(G<L)Math.abs(G),F+=L,U.pts=U.dts=0===M?x+T:N[M-1].pts+L,M+=1;else{var j=Math.round(G/L);c.logger.warn("Injecting "+j+" audio frame @ "+Math.round(F/90)/1e3+"s due to "+Math.round(G/90)+" ms gap.");for(var H=0;j>H;H++)w=F+x,w=Math.max(w,x),k=s.default.getSilentFrame(e.channelCount),k||(c.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),k=U.unit.subarray()),N.splice(M,0,{unit:k,pts:w,dts:w}),e.len+=k.length,F+=L,M+=1;U.pts=U.dts=F+x,F+=L,M+=1}else c.logger.warn("Dropping 1 audio frame @ "+Math.round(F/90)/1e3+"s due to "+Math.round(Math.abs(G/90))+" ms overlap."),N.splice(M,1),e.len-=U.unit.length}for(;N.length;){if(a=N.shift(),l=a.unit,m=a.pts-x,b=a.dts-x,void 0!==y)E=C(m,y),_=C(b,y),o.duration=Math.round((_-y)/A);else{E=C(m,T),_=C(b,T);var z=Math.round(1e3*(E-T)/R),V=0;if(r&&e.isAAC&&z){if(z>0)V=Math.round((E-T)/L),c.logger.log(z+" ms hole between AAC samples detected,filling it"),V>0&&(k=s.default.getSilentFrame(e.channelCount),k||(k=l.subarray()),e.len+=V*k.length);else if(-12>z){c.logger.log(-z+" ms overlapping between AAC samples detected, drop frame"),e.len-=l.byteLength;continue}E=_=T}if(v=Math.max(0,E),g=Math.max(0,_),0>=e.len)return;var W=D?e.len:e.len+8;try{f=new Uint8Array(W)}catch(e){return void this.observer.trigger(u.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:W,reason:"fail allocating audio mdat "+W})}D||(i=new DataView(f.buffer),i.setUint32(0,f.byteLength),f.set(d.default.types.mdat,4));for(var K=0;V>K;K++)w=E-(V-K)*L,k=s.default.getSilentFrame(e.channelCount),k||(c.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),k=l.subarray()),f.set(k,P),P+=k.byteLength,o={size:k.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},I.push(o)}f.set(l,P),P+=l.byteLength,o={size:l.byteLength,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},I.push(o),y=_}var Y=0,q=I.length;if(2>q||(Y=I[q-2].duration,o.duration=Y),q){this.nextAudioPts=E+A*Y,e.len=0,e.samples=I,p=D?new Uint8Array:d.default.moof(e.sequenceNumber++,g/A,e),e.samples=[];var X={id:this.id,level:this.level,sn:this.sn,data1:p,data2:f,startPTS:v/R,endPTS:this.nextAudioPts/R,startDTS:g/R,endDTS:(_+A*Y)/R,type:"audio",nb:q};return this.observer.trigger(u.default.FRAG_PARSING_DATA,X),X}return null}},{key:"remuxEmptyAudio",value:function(e,t,r,n){var i=this.PES_TIMESCALE,a=e.timescale?e.timescale:e.audiosamplerate,o=i/a,l=this.nextAudioPts,u=(void 0!==l?l:n.startDTS*i)+this._initDTS,f=n.endDTS*i+this._initDTS,d=1024*o,h=Math.ceil((f-u)/d),p=s.default.getSilentFrame(e.channelCount);if(c.logger.warn("remux empty Audio"),!p)return void c.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var v=[],g=0;h>g;g++){var y=u+g*d;v.push({unit:p,pts:y,dts:y}),e.len+=p.length}e.samples=v,this.remuxAudio(e,t,r)}},{key:"remuxID3",value:function(e,t){var r,n=e.samples.length;if(n){for(var i=0;n>i;i++)r=e.samples[i],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE,r.dts=(r.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var r,n=e.samples.length;if(n){for(var i=0;n>i;i++)r=e.samples[i],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var r;if(void 0===t)return e;for(r=e>t?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}},{key:"passthrough",get:function(){return!1}}]),e}();r.default=p},{26:26,28:28,29:29,37:37,45:45}],39:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e(28),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(t,r){n(this,e),this.observer=t,this.id=r,this.ISGenerated=!1}return i(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,r,n,i,a){var s=this.observer;if(!this.ISGenerated){var l={},u={id:this.id,tracks:l,unique:!0},c=t,f=c.codec;f&&(u.tracks.video={container:c.container,codec:f,metadata:{width:c.width,height:c.height}}),c=e,f=c.codec,f&&(u.tracks.audio={container:c.container,codec:f,metadata:{channelCount:c.channelCount}}),this.ISGenerated=!0,s.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,u)}s.trigger(o.default.FRAG_PARSING_DATA,{id:this.id,data1:a,startPTS:i,startDTS:i,type:"audiovideo",nb:1,dropped:0})}},{key:"passthrough",get:function(){return!0}}]),e}();r.default=s},{28:28}],40:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,s=function(){function e(t){n(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r])}return i(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;t.length/2>n;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=a.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,r={};for(o.lastIndex=0;null!==(t=o.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r}}]),e}();r.default=s},{}],41:[function(e,t,r){"use strict";var n={search:function(e,t){for(var r=0,n=e.length-1,i=null,a=null;n>=r;){i=(r+n)/2|0,a=e[i];var o=t(a);if(o>0)r=i+1;else{if(o>=0)return a;n=i-1}}return null}};t.exports=n},{}],42:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return a.hasOwnProperty(e)&&(t=a[e]),String.fromCharCode(t)},s=15,l=32,u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e]>this.verboseLevel||console.log(this.time+" ["+e+"] "+t)}},v=function(e){for(var t=[],r=0;e.length>r;r++)t.push(e[r].toString(16));return t},g=function(){function e(t,r,i,a,o){n(this,e),this.foreground=t||"white",this.underline=r||!1,this.italics=i||!1,this.background=a||"black",this.flash=o||!1}return i(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;t.length>r;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),y=function(){function e(t,r,i,a,o,s){n(this,e),this.uchar=t||" ",this.penState=new g(r,i,a,o,s)}return i(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),m=function(){function e(){n(this,e),this.chars=[];for(var t=0;l>t;t++)this.chars.push(new y);this.pos=0,this.currPenState=new g}return i(e,[{key:"equals",value:function(e){for(var t=!0,r=0;l>r;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;l>t;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;l>t;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),0>this.pos?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>l&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=l)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;t+1>r;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){144>e||this.backSpace();var t=o(e);return l>this.pos?(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1)):void p.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!")}},{key:"clearFromPos",value:function(e){var t;for(t=e;l>t;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,r=0;l>r;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),b=function(){function e(){n(this,e),this.rows=[];for(var t=0;s>t;t++)this.rows.push(new m);this.currRow=s-1,this.nrRollUpRows=null,this.reset()}return i(e,[{key:"reset",value:function(){for(var e=0;s>e;e++)this.rows[e].clear();this.currRow=s-1}},{key:"equals",value:function(e){for(var t=!0,r=0;s>r;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;s>t;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;s>t;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){p.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e,t){p.log("INFO","pacData = "+JSON.stringify(e));var r=e.row-1;if(this.nrRollUpRows&&this.nrRollUpRows-1>r&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(var n=0;s>n;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,a=t.rows[i].cueStartTime;if(a&&p.time>a)for(n=0;this.nrRollUpRows>n;n++)this.rows[r-this.nrRollUpRows+n+1].copy(t.rows[i+n])}this.currRow=r;var o=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);o.setCursor(e.indent),e.color=o.chars[u].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)}},{key:"setBkgData",value:function(e){p.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){if(null===this.nrRollUpRows)return void p.log("DEBUG","roll_up but nrRollUpRows not set yet");p.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),p.log("INFO","Rolling up")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],r="",n=-1,i=0;s>i;i++){var a=this.rows[i].getTextString();a&&(n=i+1,t.push(e?"Row "+n+": '"+a+"'":a.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),E=function(){function e(t,r){n(this,e),this.chNr=t,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new b,this.nonDisplayedMemory=new b,this.lastOutputScreen=new b,this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return i(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e,this.lastOutputScreen)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,p.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset(),this.lastOutputScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=0;e.length>t;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";p.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){p.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(e){p.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46)t.foreground="white";else{var r=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[r]}p.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=p.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),_=function(){function e(t,r,i){n(this,e),this.field=t||1,this.outputs=[r,i],this.channels=[new E(1,r),new E(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return i(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var r,n,i,a=!1;this.lastTime=e,p.setTime(e);for(var o=0;t.length>o;o+=2)if(n=127&t[o],i=127&t[o+1],0!==n||0!==i){if(p.log("DATA","["+v([t[o],t[o+1]])+"] -> ("+v([n,i])+")"),r=this.parseCmd(n,i),r||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r&&(a=this.parseChars(n,i)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(a)}else p.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+v([n,i])+" orig: "+v([t[o],t[o+1]])))}else this.dataCounters.padding+=2}},{key:"parseCmd",value:function(e,t){var r=null,n=!(20!==e&&28!==e||32>t||t>47),i=!(23!==e&&31!==e||33>t||t>35);if(!n&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+v([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var a=this.channels[r-1];return 20===e||28===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0}},{key:"parseMidrow",value:function(e,t){var r=null;if(!(17!==e&&25!==e||32>t||t>47)){if((r=17===e?1:2)!==this.currChNr)return p.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[r-1].ccMIDROW(t),p.log("DEBUG","MIDROW ("+v([e,t])+")"),!0}return!1}},{key:"parsePAC",value:function(e,t){var r=null,n=null,i=!((17>e||e>23)&&(25>e||e>31)||64>t||t>127),a=!(16!==e&&24!==e||64>t||t>95);if(!i&&!a)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e>23?2:1,n=64>t||t>95?1===r?c[e]:d[e]:1===r?u[e]:f[e];var o=this.interpretPAC(n,t);return this.channels[r-1].setPAC(o),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0}},{key:"interpretPAC",value:function(e,t){var r=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1===(1&r),r>13?r>15?n.indent=4*Math.floor((r-16)/2):(n.italics=!0,n.color="white"):n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)],n}},{key:"parseChars",value:function(e,t){var r=null,n=null,i=null;if(25>e?(r=1,i=e):(r=2,i=e-8),17>i||i>19)32>e||e>127||(n=0===t?[e]:[e,t]);else{var a=t;a=17===i?t+80:18===i?t+112:t+144,p.log("INFO","Special char '"+o(a)+"' in channel "+r),n=[a]}if(n){var s=v(n);p.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n}},{key:"parseBackgroundAttributes",value:function(e,t){var r,n,i,a,o=!(16!==e&&24!==e||32>t||t>47),s=!(23!==e&&31!==e||45>t||t>47);return!(!o&&!s)&&(r={},16===e||24===e?(n=Math.floor((t-32)/2),r.background=h[n],t%2===1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),i=24>e?1:2,a=this.channels[i-1],a.setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:"reset",value:function(){for(var e=0;this.channels.length>e;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(e){for(var t=0;this.channels.length>t;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}();r.default=_},{}],43:[function(e,t,r){"use strict";var n={newCue:function(e,t,r,n){for(var i,a,o,s,l,u=window.VTTCue||window.TextTrackCue,c=0;n.rows.length>c;c++)if(i=n.rows[c],o=!0,s=0,l="",!i.isEmpty()){for(var f=0;i.chars.length>f;f++)i.chars[f].uchar.match(/\s/)&&o?s++:(l+=i.chars[f].uchar,o=!1);i.cueStartTime=t,a=new u(t,r,l.trim()),16>s?s++:s--,a.line=navigator.userAgent.match(/Firefox\//)?c+1:c>7?c-2:c+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}};t.exports=n},{}],44:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t){n(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return i(e,[{key:"sample",value:function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();r.default=a},{}],45:[function(e,t,r){"use strict";function n(){}function i(e,t){return t="["+e+"] > "+t}function a(e){var t=self.console[e];return t?function(){for(var r=arguments.length,n=Array(r),a=0;r>a;a++)n[a]=arguments[a];n[0]&&(n[0]=i(e,n[0])),t.apply(self.console,n)}:n}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];r.forEach(function(t){u[t]=e[t]?e[t].bind(e):a(t)})}Object.defineProperty(r,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={trace:n,debug:n,log:n,warn:n,info:n,error:n},u=l;r.enableLogs=function(e){if(!0===e||"object"===(void 0===e?"undefined":s(e))){o(e,"debug","log","info","warn","error");try{u.log()}catch(e){u=l}}else u=l},r.logger=u},{}],46:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){n(this,e)}return i(e,null,[{key:"toString",value:function(e){for(var t="",r=e.length,n=0;r>n;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}}]),e}();r.default=a},{}],47:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e(45),o=function(){function e(t){n(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return i(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e=this.loader="undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest,e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open("GET",t.url,!0),t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.responseType=t.responseType;var r=this.stats;r.tfirst=0,r.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,r=t.readyState,n=this.stats,i=this.context,o=this.config;if(!n.aborted&&(window.clearTimeout(this.requestTimeout),r>=2&&(0===n.tfirst&&(n.tfirst=Math.max(performance.now(),n.trequest),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout-(n.tfirst-n.trequest))),4===r))){var s=t.status;if(s>=200&&300>s){n.tload=Math.max(n.tfirst,performance.now());var l=void 0,u=void 0;"arraybuffer"===i.responseType?(l=t.response,u=l.byteLength):(l=t.responseText,u=l.length),n.loaded=n.total=u;var c={url:t.responseURL,data:l};this.callbacks.onSuccess(c,n,i)}else n.retry>=o.maxRetry||s>=400&&499>s?(a.logger.error(s+" while loading "+i.url),this.callbacks.onError({code:s,text:t.statusText},i)):(a.logger.warn(s+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),n.retry++)}}},{key:"loadtimeout",value:function(){a.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var r=this.callbacks.onProgress;r&&r(t,this.context,null)}}]),e}();r.default=o},{45:45}]},{},[33])(33)}()}()},31:function(e,t,r){e.exports=r(34)()},32:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(17),c=n(u),f=r(31),d=n(f),h=r(30),p=n(h),v=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={playerId:Date.now()},r.hls=null,r}return o(t,e),l(t,[{key:"componentDidUpdate",value:function(){this._initPlayer()}},{key:"componentDidMount",value:function(){this._initPlayer()}},{key:"componentWillUnmount",value:function(){var e=this.hls;e&&e.destroy()}},{key:"_initPlayer",value:function(){this.hls&&this.hls.destroy();var e=this.props,t=e.url,r=e.autoplay,n=e.hlsConfig,i=this.refs.video,a=new p.default(n);a.loadSource(t),a.attachMedia(i),a.on(p.default.Events.MANIFEST_PARSED,function(){r&&i.play()}),this.hls=a}},{key:"render",value:function(){var e=this.state.playerId,t=this.props,r=t.controls,n=t.width,i=t.height,a=t.poster,o=t.videoProps;return c.default.createElement("div",{key:e,className:"player-area"},c.default.createElement("video",s({ref:"video",className:"hls-player",id:"react-hls-"+e,controls:r,width:n,height:i,poster:a},o)))}}]),t}(c.default.Component);v.propTypes={url:d.default.string.isRequired,autoplay:d.default.bool,hlsConfig:d.default.object,controls:d.default.bool,width:d.default.number,height:d.default.number,poster:d.default.string,videoProps:d.default.object},v.defaultProps={autoplay:!1,hlsConfig:{},controls:!0,width:500,height:375},t.default=v},34:function(e,t,r){"use strict";var n=r(6),i=r(0),a=r(24);e.exports=function(){function e(e,t,r,n,o,s){s!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return r.checkPropTypes=n,r.PropTypes=r,r}},6:function(e,t,r){"use strict";function n(e){return function(){return e}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i}})})},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(0),s=r.n(o),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e){function t(e){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={waves:[]},r}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;""!==this.props.spotId&&fetch("https://services.surfline.com/kbyg/spots/forecasts/wave?spotId="+this.props.spotId+"&days=1&intervalHours=1").then(function(e){return e.json()}).then(function(t){var r=t.data.wave.map(function(e){return{surf:e.surf,timestamp:e.timestamp}});e.setState({waves:r})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"waves"},"Latest Wave Height: ",JSON.stringify(this.state.waves[this.state.waves.length-1]))}}]),t}(s.a.Component);t.a=u},function(e,t){}]);
//# sourceMappingURL=main.aa496225.js.map